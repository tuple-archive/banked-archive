<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="robots" content="noindex"/><title>Shipping web components in 2020.</title><meta name="title" content="Shipping web components in 2020."/><meta name="description" content="Shipping web components in 2020."/><link rel="canonical" href="https://banked.com/articles/shipping-web-components-in-2020"/><meta name="facebook-domain-verification" content="1wjajybcua3puqgz28i76kiefee9zb"/><meta property="og:type" content="website"/><meta property="og:url" content="https://banked.com/articles/shipping-web-components-in-2020"/><meta property="og:title" content="Shipping web components in 2020."/><meta property="og:description" content="Shipping web components in 2020."/><meta property="og:image" content="https://images.prismic.io/banked/1e574cfd-79bc-478c-ab7a-f034494d142d_shipping.png?auto=compress,format&amp;w=1200&amp;h=627"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:url" content="https://banked.com/articles/shipping-web-components-in-2020"/><meta property="twitter:title" content="Shipping web components in 2020."/><meta property="twitter:description" content="Shipping web components in 2020."/><meta property="twitter:image" content="https://images.prismic.io/banked/1e574cfd-79bc-478c-ab7a-f034494d142d_shipping.png?auto=compress,format&amp;w=2048&amp;h=1024"/><meta name="next-head-count" content="18"/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/75fc9c18.165f0fc0c463a090.js" crossorigin=""></script><script defer="" src="/_next/static/chunks/803.a50dbc2917241899.js" crossorigin=""></script><script defer="" src="/_next/static/chunks/766.6519af1427111634.js" crossorigin=""></script><script defer="" src="/_next/static/chunks/549.acdd92e00cab0c31.js" crossorigin=""></script><script defer="" src="/_next/static/chunks/95.704ddbed64e569a0.js" crossorigin=""></script><script defer="" src="/_next/static/chunks/943.848faf19d7f4a15c.js" crossorigin=""></script><script src="/_next/static/chunks/webpack-9baf8678c494730f.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-0c7baedefba6b077.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-283545f0d899e66e.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-5e0060c0b9a9ce64.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/755-613e9db00196069e.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-85ffa7daabf1901c.js" defer="" crossorigin=""></script><script src="/_next/static/B6TOBLeoGjSCzcHnEdbrK/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/B6TOBLeoGjSCzcHnEdbrK/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><style data-emotion="css-global y36r4">:host,:root,[data-theme]{--chakra-ring-inset:var(--chakra-empty,/*!*/ /*!*/);--chakra-ring-offset-width:0px;--chakra-ring-offset-color:#fff;--chakra-ring-color:rgba(66, 153, 225, 0.6);--chakra-ring-offset-shadow:0 0 #0000;--chakra-ring-shadow:0 0 #0000;--chakra-space-x-reverse:0;--chakra-space-y-reverse:0;--chakra-colors-transparent:transparent;--chakra-colors-current:currentColor;--chakra-colors-black:#000000;--chakra-colors-white:#FFFFFF;--chakra-colors-whiteAlpha-50:rgba(255, 255, 255, 0.04);--chakra-colors-whiteAlpha-100:rgba(255, 255, 255, 0.06);--chakra-colors-whiteAlpha-200:rgba(255, 255, 255, 0.08);--chakra-colors-whiteAlpha-300:rgba(255, 255, 255, 0.16);--chakra-colors-whiteAlpha-400:rgba(255, 255, 255, 0.24);--chakra-colors-whiteAlpha-500:rgba(255, 255, 255, 0.36);--chakra-colors-whiteAlpha-600:rgba(255, 255, 255, 0.48);--chakra-colors-whiteAlpha-700:rgba(255, 255, 255, 0.64);--chakra-colors-whiteAlpha-800:rgba(255, 255, 255, 0.80);--chakra-colors-whiteAlpha-900:rgba(255, 255, 255, 0.92);--chakra-colors-blackAlpha-50:rgba(0, 0, 0, 0.04);--chakra-colors-blackAlpha-100:rgba(0, 0, 0, 0.06);--chakra-colors-blackAlpha-200:rgba(0, 0, 0, 0.08);--chakra-colors-blackAlpha-300:rgba(0, 0, 0, 0.16);--chakra-colors-blackAlpha-400:rgba(0, 0, 0, 0.24);--chakra-colors-blackAlpha-500:rgba(0, 0, 0, 0.36);--chakra-colors-blackAlpha-600:rgba(0, 0, 0, 0.48);--chakra-colors-blackAlpha-700:rgba(0, 0, 0, 0.64);--chakra-colors-blackAlpha-800:rgba(0, 0, 0, 0.80);--chakra-colors-blackAlpha-900:rgba(0, 0, 0, 0.92);--chakra-colors-gray-50:#F7FAFC;--chakra-colors-gray-100:#EDF2F7;--chakra-colors-gray-200:#E2E8F0;--chakra-colors-gray-300:#CBD5E0;--chakra-colors-gray-400:#A0AEC0;--chakra-colors-gray-500:#718096;--chakra-colors-gray-600:#4A5568;--chakra-colors-gray-700:#2D3748;--chakra-colors-gray-800:#1A202C;--chakra-colors-gray-900:#171923;--chakra-colors-red-50:#FFF5F5;--chakra-colors-red-100:#FED7D7;--chakra-colors-red-200:#FEB2B2;--chakra-colors-red-300:#FC8181;--chakra-colors-red-400:#F56565;--chakra-colors-red-500:#E53E3E;--chakra-colors-red-600:#C53030;--chakra-colors-red-700:#9B2C2C;--chakra-colors-red-800:#822727;--chakra-colors-red-900:#63171B;--chakra-colors-orange-50:#FFFAF0;--chakra-colors-orange-100:#FEEBC8;--chakra-colors-orange-200:#FBD38D;--chakra-colors-orange-300:#F6AD55;--chakra-colors-orange-400:#ED8936;--chakra-colors-orange-500:#DD6B20;--chakra-colors-orange-600:#C05621;--chakra-colors-orange-700:#9C4221;--chakra-colors-orange-800:#7B341E;--chakra-colors-orange-900:#652B19;--chakra-colors-yellow-50:#FFFFF0;--chakra-colors-yellow-100:#FEFCBF;--chakra-colors-yellow-200:#FAF089;--chakra-colors-yellow-300:#F6E05E;--chakra-colors-yellow-400:#ECC94B;--chakra-colors-yellow-500:#D69E2E;--chakra-colors-yellow-600:#B7791F;--chakra-colors-yellow-700:#975A16;--chakra-colors-yellow-800:#744210;--chakra-colors-yellow-900:#5F370E;--chakra-colors-green-50:#F0FFF4;--chakra-colors-green-100:#C6F6D5;--chakra-colors-green-200:#9AE6B4;--chakra-colors-green-300:#68D391;--chakra-colors-green-400:#48BB78;--chakra-colors-green-500:#38A169;--chakra-colors-green-600:#2F855A;--chakra-colors-green-700:#276749;--chakra-colors-green-800:#22543D;--chakra-colors-green-900:#1C4532;--chakra-colors-teal-50:#E6FFFA;--chakra-colors-teal-100:#B2F5EA;--chakra-colors-teal-200:#81E6D9;--chakra-colors-teal-300:#4FD1C5;--chakra-colors-teal-400:#38B2AC;--chakra-colors-teal-500:#319795;--chakra-colors-teal-600:#2C7A7B;--chakra-colors-teal-700:#285E61;--chakra-colors-teal-800:#234E52;--chakra-colors-teal-900:#1D4044;--chakra-colors-blue-50:#ebf8ff;--chakra-colors-blue-100:#bee3f8;--chakra-colors-blue-200:#90cdf4;--chakra-colors-blue-300:#63b3ed;--chakra-colors-blue-400:#4299e1;--chakra-colors-blue-500:#3182ce;--chakra-colors-blue-600:#2b6cb0;--chakra-colors-blue-700:#2c5282;--chakra-colors-blue-800:#2a4365;--chakra-colors-blue-900:#1A365D;--chakra-colors-cyan-50:#EDFDFD;--chakra-colors-cyan-100:#C4F1F9;--chakra-colors-cyan-200:#9DECF9;--chakra-colors-cyan-300:#76E4F7;--chakra-colors-cyan-400:#0BC5EA;--chakra-colors-cyan-500:#00B5D8;--chakra-colors-cyan-600:#00A3C4;--chakra-colors-cyan-700:#0987A0;--chakra-colors-cyan-800:#086F83;--chakra-colors-cyan-900:#065666;--chakra-colors-purple-50:#FAF5FF;--chakra-colors-purple-100:#E9D8FD;--chakra-colors-purple-200:#D6BCFA;--chakra-colors-purple-300:#B794F4;--chakra-colors-purple-400:#9F7AEA;--chakra-colors-purple-500:#805AD5;--chakra-colors-purple-600:#6B46C1;--chakra-colors-purple-700:#553C9A;--chakra-colors-purple-800:#44337A;--chakra-colors-purple-900:#322659;--chakra-colors-pink-50:#FFF5F7;--chakra-colors-pink-100:#FED7E2;--chakra-colors-pink-200:#FBB6CE;--chakra-colors-pink-300:#F687B3;--chakra-colors-pink-400:#ED64A6;--chakra-colors-pink-500:#D53F8C;--chakra-colors-pink-600:#B83280;--chakra-colors-pink-700:#97266D;--chakra-colors-pink-800:#702459;--chakra-colors-pink-900:#521B41;--chakra-colors-linkedin-50:#E8F4F9;--chakra-colors-linkedin-100:#CFEDFB;--chakra-colors-linkedin-200:#9BDAF3;--chakra-colors-linkedin-300:#68C7EC;--chakra-colors-linkedin-400:#34B3E4;--chakra-colors-linkedin-500:#00A0DC;--chakra-colors-linkedin-600:#008CC9;--chakra-colors-linkedin-700:#0077B5;--chakra-colors-linkedin-800:#005E93;--chakra-colors-linkedin-900:#004471;--chakra-colors-facebook-50:#E8F4F9;--chakra-colors-facebook-100:#D9DEE9;--chakra-colors-facebook-200:#B7C2DA;--chakra-colors-facebook-300:#6482C0;--chakra-colors-facebook-400:#4267B2;--chakra-colors-facebook-500:#385898;--chakra-colors-facebook-600:#314E89;--chakra-colors-facebook-700:#29487D;--chakra-colors-facebook-800:#223B67;--chakra-colors-facebook-900:#1E355B;--chakra-colors-messenger-50:#D0E6FF;--chakra-colors-messenger-100:#B9DAFF;--chakra-colors-messenger-200:#A2CDFF;--chakra-colors-messenger-300:#7AB8FF;--chakra-colors-messenger-400:#2E90FF;--chakra-colors-messenger-500:#0078FF;--chakra-colors-messenger-600:#0063D1;--chakra-colors-messenger-700:#0052AC;--chakra-colors-messenger-800:#003C7E;--chakra-colors-messenger-900:#002C5C;--chakra-colors-whatsapp-50:#dffeec;--chakra-colors-whatsapp-100:#b9f5d0;--chakra-colors-whatsapp-200:#90edb3;--chakra-colors-whatsapp-300:#65e495;--chakra-colors-whatsapp-400:#3cdd78;--chakra-colors-whatsapp-500:#22c35e;--chakra-colors-whatsapp-600:#179848;--chakra-colors-whatsapp-700:#0c6c33;--chakra-colors-whatsapp-800:#01421c;--chakra-colors-whatsapp-900:#001803;--chakra-colors-twitter-50:#E5F4FD;--chakra-colors-twitter-100:#C8E9FB;--chakra-colors-twitter-200:#A8DCFA;--chakra-colors-twitter-300:#83CDF7;--chakra-colors-twitter-400:#57BBF5;--chakra-colors-twitter-500:#1DA1F2;--chakra-colors-twitter-600:#1A94DA;--chakra-colors-twitter-700:#1681BF;--chakra-colors-twitter-800:#136B9E;--chakra-colors-twitter-900:#0D4D71;--chakra-colors-telegram-50:#E3F2F9;--chakra-colors-telegram-100:#C5E4F3;--chakra-colors-telegram-200:#A2D4EC;--chakra-colors-telegram-300:#7AC1E4;--chakra-colors-telegram-400:#47A9DA;--chakra-colors-telegram-500:#0088CC;--chakra-colors-telegram-600:#007AB8;--chakra-colors-telegram-700:#006BA1;--chakra-colors-telegram-800:#005885;--chakra-colors-telegram-900:#003F5E;--chakra-colors-black-100:#111111;--chakra-colors-black-95:#1D1D1D;--chakra-colors-black-90:#292929;--chakra-colors-black-85:#353535;--chakra-colors-black-80:#414141;--chakra-colors-dark-grey-75:#4D4D4D;--chakra-colors-dark-grey-70:#585858;--chakra-colors-dark-grey-65:#646464;--chakra-colors-dark-grey-60:#707070;--chakra-colors-dark-grey-55:#7C7C7C;--chakra-colors-mid-grey-50:#888888;--chakra-colors-mid-grey-45:#949494;--chakra-colors-mid-grey-40:#A0A0A0;--chakra-colors-mid-grey-35:#ACACAC;--chakra-colors-mid-grey-30:#B8B8B8;--chakra-colors-light-grey-25:#C3C3C3;--chakra-colors-light-grey-20:#CFCFCF;--chakra-colors-light-grey-15:#DBDBDB;--chakra-colors-light-grey-10:#E7E7E7;--chakra-colors-light-grey-05:#F3F3F3;--chakra-colors-white-00:#FAFAFA;--chakra-colors-white-100:#FFFFFF;--chakra-colors-success-01:#44AC8B;--chakra-colors-success-02:#306E5A;--chakra-colors-alert-01:#FF6164;--chakra-colors-alert-02:#FF6164;--chakra-colors-alert-03:#FF6164;--chakra-colors-alert-04:#CD1F1F;--chakra-colors-alert-05:#F1CECE;--chakra-colors-guide-01:#339DFF;--chakra-colors-guide-02:#D6EBFF;--chakra-colors-guide-03:#EBF5FF;--chakra-borders-none:0;--chakra-borders-1px:1px solid;--chakra-borders-2px:2px solid;--chakra-borders-4px:4px solid;--chakra-borders-8px:8px solid;--chakra-fonts-heading:Banked,system-ui,sans-serif;--chakra-fonts-body:Banked,system-ui,sans-serif;--chakra-fonts-mono:"Source Code Pro",Menlo,monospace;--chakra-fontSizes-xs:0.8125rem;--chakra-fontSizes-sm:0.875rem;--chakra-fontSizes-md:1rem;--chakra-fontSizes-lg:1.25rem;--chakra-fontSizes-xl:1.5rem;--chakra-fontSizes-2xl:1.625rem;--chakra-fontSizes-3xl:1.875rem;--chakra-fontSizes-4xl:2.25rem;--chakra-fontSizes-5xl:3rem;--chakra-fontSizes-6xl:3.75rem;--chakra-fontSizes-7xl:4.5rem;--chakra-fontSizes-8xl:6rem;--chakra-fontSizes-9xl:8rem;--chakra-fontSizes-3xs:0.6875rem;--chakra-fontSizes-2xs:0.75rem;--chakra-fontWeights-hairline:100;--chakra-fontWeights-thin:200;--chakra-fontWeights-light:300;--chakra-fontWeights-normal:400;--chakra-fontWeights-medium:500;--chakra-fontWeights-semibold:600;--chakra-fontWeights-bold:700;--chakra-fontWeights-extrabold:800;--chakra-fontWeights-black:900;--chakra-letterSpacings-tighter:-0.05em;--chakra-letterSpacings-tight:-0.025em;--chakra-letterSpacings-normal:0;--chakra-letterSpacings-wide:0.025em;--chakra-letterSpacings-wider:0.05em;--chakra-letterSpacings-widest:0.1em;--chakra-lineHeights-3:.75rem;--chakra-lineHeights-4:1rem;--chakra-lineHeights-5:1.25rem;--chakra-lineHeights-6:1.5rem;--chakra-lineHeights-7:1.75rem;--chakra-lineHeights-8:2rem;--chakra-lineHeights-9:2.25rem;--chakra-lineHeights-10:2.5rem;--chakra-lineHeights-12:3rem;--chakra-lineHeights-14:3.5rem;--chakra-lineHeights-normal:normal;--chakra-lineHeights-none:1;--chakra-lineHeights-shorter:1.25;--chakra-lineHeights-short:1.375;--chakra-lineHeights-base:1.5;--chakra-lineHeights-tall:1.625;--chakra-lineHeights-taller:2;--chakra-radii-none:0;--chakra-radii-sm:0.125rem;--chakra-radii-base:0.25rem;--chakra-radii-md:0.1875rem;--chakra-radii-lg:0.5rem;--chakra-radii-xl:0.75rem;--chakra-radii-2xl:1rem;--chakra-radii-3xl:1.5rem;--chakra-radii-full:9999px;--chakra-space-1:0.25rem;--chakra-space-2:0.5rem;--chakra-space-3:0.75rem;--chakra-space-4:1rem;--chakra-space-5:1.25rem;--chakra-space-6:1.5rem;--chakra-space-7:1.75rem;--chakra-space-8:2rem;--chakra-space-9:2.25rem;--chakra-space-10:2.5rem;--chakra-space-12:3rem;--chakra-space-14:3.5rem;--chakra-space-16:4rem;--chakra-space-20:5rem;--chakra-space-24:6rem;--chakra-space-28:7rem;--chakra-space-32:8rem;--chakra-space-36:9rem;--chakra-space-40:10rem;--chakra-space-44:11rem;--chakra-space-48:12rem;--chakra-space-52:13rem;--chakra-space-56:14rem;--chakra-space-60:15rem;--chakra-space-64:16rem;--chakra-space-72:18rem;--chakra-space-80:20rem;--chakra-space-96:24rem;--chakra-space-px:1px;--chakra-space-0-5:0.125rem;--chakra-space-1-5:0.375rem;--chakra-space-2-5:0.625rem;--chakra-space-3-5:0.875rem;--chakra-shadows-xs:0 0 0 1px rgba(0, 0, 0, 0.05);--chakra-shadows-sm:0 1px 2px 0 rgba(0, 0, 0, 0.05);--chakra-shadows-base:0 1px 3px 0 rgba(0, 0, 0, 0.1),0 1px 2px 0 rgba(0, 0, 0, 0.06);--chakra-shadows-md:0 4px 6px -1px rgba(0, 0, 0, 0.1),0 2px 4px -1px rgba(0, 0, 0, 0.06);--chakra-shadows-lg:0 0 10px rgba(0, 0, 0, 0.05);--chakra-shadows-xl:0 20px 25px -5px rgba(0, 0, 0, 0.1),0 10px 10px -5px rgba(0, 0, 0, 0.04);--chakra-shadows-2xl:0 25px 50px -12px rgba(0, 0, 0, 0.25);--chakra-shadows-outline:0 0 0 2px #339DFF;--chakra-shadows-inner:inset 0 2px 4px 0 rgba(0,0,0,0.06);--chakra-shadows-none:none;--chakra-shadows-dark-lg:rgba(0, 0, 0, 0.1) 0px 0px 0px 1px,rgba(0, 0, 0, 0.2) 0px 5px 10px,rgba(0, 0, 0, 0.4) 0px 15px 40px;--chakra-shadows-darkLg:0 0 10px rgba(0, 0, 0, 0.45);--chakra-sizes-1:0.25rem;--chakra-sizes-2:0.5rem;--chakra-sizes-3:0.75rem;--chakra-sizes-4:1rem;--chakra-sizes-5:1.25rem;--chakra-sizes-6:1.5rem;--chakra-sizes-7:1.75rem;--chakra-sizes-8:2rem;--chakra-sizes-9:2.25rem;--chakra-sizes-10:2.5rem;--chakra-sizes-12:3rem;--chakra-sizes-14:3.5rem;--chakra-sizes-16:4rem;--chakra-sizes-20:5rem;--chakra-sizes-24:6rem;--chakra-sizes-28:7rem;--chakra-sizes-32:8rem;--chakra-sizes-36:9rem;--chakra-sizes-40:10rem;--chakra-sizes-44:11rem;--chakra-sizes-48:12rem;--chakra-sizes-52:13rem;--chakra-sizes-56:14rem;--chakra-sizes-60:15rem;--chakra-sizes-64:16rem;--chakra-sizes-72:18rem;--chakra-sizes-80:20rem;--chakra-sizes-96:24rem;--chakra-sizes-px:1px;--chakra-sizes-0-5:0.125rem;--chakra-sizes-1-5:0.375rem;--chakra-sizes-2-5:0.625rem;--chakra-sizes-3-5:0.875rem;--chakra-sizes-max:max-content;--chakra-sizes-min:min-content;--chakra-sizes-full:100%;--chakra-sizes-3xs:14rem;--chakra-sizes-2xs:16rem;--chakra-sizes-xs:20rem;--chakra-sizes-sm:24rem;--chakra-sizes-md:28rem;--chakra-sizes-lg:32rem;--chakra-sizes-xl:36rem;--chakra-sizes-2xl:42rem;--chakra-sizes-3xl:48rem;--chakra-sizes-4xl:56rem;--chakra-sizes-5xl:64rem;--chakra-sizes-6xl:72rem;--chakra-sizes-7xl:80rem;--chakra-sizes-8xl:90rem;--chakra-sizes-container-sm:640px;--chakra-sizes-container-md:768px;--chakra-sizes-container-lg:1024px;--chakra-sizes-container-xl:1280px;--chakra-zIndices-hide:-1;--chakra-zIndices-auto:auto;--chakra-zIndices-base:0;--chakra-zIndices-docked:10;--chakra-zIndices-dropdown:1000;--chakra-zIndices-sticky:1100;--chakra-zIndices-banner:1200;--chakra-zIndices-overlay:1300;--chakra-zIndices-modal:1400;--chakra-zIndices-popover:1500;--chakra-zIndices-skipLink:1600;--chakra-zIndices-toast:1700;--chakra-zIndices-tooltip:1800;--chakra-transition-property-common:background-color,border-color,color,fill,stroke,opacity,transform,text-decoration-color;--chakra-transition-property-colors:background-color,border-color,color,fill,stroke;--chakra-transition-property-dimensions:width,height;--chakra-transition-property-position:left,right,top,bottom;--chakra-transition-property-background:background-color,background-image,background-position;--chakra-transition-easing-ease-in:cubic-bezier(0.4, 0, 1, 1);--chakra-transition-easing-ease-out:cubic-bezier(0, 0, 0.2, 1);--chakra-transition-easing-ease-in-out:cubic-bezier(0.4, 0, 0.2, 1);--chakra-transition-duration-ultra-fast:50ms;--chakra-transition-duration-faster:100ms;--chakra-transition-duration-fast:150ms;--chakra-transition-duration-normal:300ms;--chakra-transition-duration-slow:300ms;--chakra-transition-duration-slower:400ms;--chakra-transition-duration-ultra-slow:500ms;--chakra-blur-none:0;--chakra-blur-sm:4px;--chakra-blur-base:8px;--chakra-blur-md:12px;--chakra-blur-lg:16px;--chakra-blur-xl:24px;--chakra-blur-2xl:40px;--chakra-blur-3xl:64px;}</style><style data-emotion="css-global 1jqlf9g">html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:system-ui,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;touch-action:manipulation;}body{position:relative;min-height:100%;font-feature-settings:'kern';}*,*::before,*::after{border-width:0;border-style:solid;box-sizing:border-box;}main{display:block;}hr{border-top-width:1px;box-sizing:content-box;height:0;overflow:visible;}pre,code,kbd,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:1em;}a{background-color:transparent;color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bold;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none!important;}input[type="number"]{-moz-appearance:textfield;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none!important;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:-webkit-box;display:-webkit-list-item;display:-ms-list-itembox;display:list-item;}template{display:none;}[hidden]{display:none!important;}body,blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0;}button{background:transparent;padding:0;}fieldset{margin:0;padding:0;}ol,ul{margin:0;padding:0;}textarea{resize:vertical;}button,[role="button"]{cursor:pointer;}button::-moz-focus-inner{border:0!important;}table{border-collapse:collapse;}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;}img,svg,video,canvas,audio,iframe,embed,object{display:block;}img,video{max-width:100%;height:auto;}[data-js-focus-visible] :focus:not([data-focus-visible-added]){outline:none;box-shadow:none;}select::-ms-expand{display:none;}</style><style data-emotion="css-global 6g1dt8">body{font-family:var(--chakra-fonts-body);color:var(--chakra-colors-mid-grey-50);background:var(--chakra-colors-white-00);transition-property:background-color;transition-duration:var(--chakra-transition-duration-normal);line-height:var(--chakra-lineHeights-base);}*::-webkit-input-placeholder{color:var(--chakra-colors-mid-grey-30);}*::-moz-placeholder{color:var(--chakra-colors-mid-grey-30);}*:-ms-input-placeholder{color:var(--chakra-colors-mid-grey-30);}*::placeholder{color:var(--chakra-colors-mid-grey-30);}*,*::before,::after{border-color:var(--chakra-colors-light-grey-10);word-wrap:break-word;}html{min-width:320px;}strong{font-weight:inherit;}::selection{background:var(--chakra-colors-guide-01);color:var(--chakra-colors-white-100);}</style><style data-emotion="css-global re9vno">@font-face{font-family:"Banked";font-style:normal;font-weight:400;font-display:swap;src:url("/fonts/Hermes-RegularCond.woff2") format("woff2");}.js-focus-visible :focus:not([data-focus-visible-added]){outline:none;box-shadow:none;}</style><style data-emotion="css pw3sh8">.css-pw3sh8{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;min-height:100vh;}.css-pw3sh8>*:not(style)~*:not(style){margin-top:0.5rem;-webkit-margin-end:0px;margin-inline-end:0px;margin-bottom:0px;-webkit-margin-start:0px;margin-inline-start:0px;}</style><div class="chakra-stack css-pw3sh8"><style data-emotion="css tgjnfp">.css-tgjnfp{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin-bottom:var(--chakra-space-24);}@media screen and (min-width: 48em){.css-tgjnfp{margin-bottom:var(--chakra-space-36);}}@media screen and (min-width: 80em){.css-tgjnfp{margin-bottom:var(--chakra-space-48);}}</style><div class="css-tgjnfp"><style data-emotion="css vp1jok">.css-vp1jok{height:var(--chakra-sizes-20);}@media screen and (min-width: 48em){.css-vp1jok{height:var(--chakra-sizes-24);}}</style><div class="css-vp1jok"></div><style data-emotion="css 1rytmdc">.css-1rytmdc{position:fixed;top:0px;left:0px;width:var(--chakra-sizes-full);box-shadow:var(--chakra-shadows-lg);background:var(--chakra-colors-white-00);z-index:10;}</style><div class="css-1rytmdc"><style data-emotion="css 6fp5g">.css-6fp5g{width:100%;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;max-width:90rem;-webkit-padding-start:var(--chakra-space-6);padding-inline-start:var(--chakra-space-6);-webkit-padding-end:var(--chakra-space-6);padding-inline-end:var(--chakra-space-6);}@media screen and (min-width: 48em){.css-6fp5g{-webkit-padding-start:var(--chakra-space-8);padding-inline-start:var(--chakra-space-8);-webkit-padding-end:var(--chakra-space-8);padding-inline-end:var(--chakra-space-8);}}@media screen and (min-width: 80em){.css-6fp5g{-webkit-padding-start:var(--chakra-space-28);padding-inline-start:var(--chakra-space-28);-webkit-padding-end:var(--chakra-space-28);padding-inline-end:var(--chakra-space-28);}}</style><div class="chakra-container css-6fp5g"><style data-emotion="css 1lekzkb">.css-1lekzkb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><div class="css-1lekzkb"><style data-emotion="css 1po99kh">.css-1po99kh{margin-right:auto;}</style><div class="css-1po99kh"><style data-emotion="css 2j51ef">.css-2j51ef{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-normal);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:var(--chakra-colors-black-85);display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:var(--chakra-sizes-20);border-bottom-color:var(--chakra-colors-transparent);border-bottom-width:1px;border-top-color:var(--chakra-colors-transparent);border-top-width:1px;font-size:var(--chakra-fontSizes-sm);}.css-2j51ef:hover,.css-2j51ef[data-hover]{-webkit-text-decoration:none;text-decoration:none;text-decoration-thickness:from-font;border-bottom-color:currentColor;}.css-2j51ef:focus,.css-2j51ef[data-focus]{box-shadow:var(--chakra-shadows-outline);}@media screen and (min-width: 48em){.css-2j51ef{height:var(--chakra-sizes-24);}}.css-2j51ef:active,.css-2j51ef[data-active]{border-bottom-color:currentColor;}</style><a class="chakra-link css-2j51ef" href="/">Banked :</a></div><style data-emotion="css ohyimv">.css-ohyimv{display:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-ohyimv>*:not(style)~*:not(style){margin-top:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-bottom:0px;-webkit-margin-start:var(--chakra-space-10);margin-inline-start:var(--chakra-space-10);}@media screen and (min-width: 62em){.css-ohyimv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}</style><div class="chakra-stack css-ohyimv"><a class="chakra-link css-2j51ef" data-inline="inline" href="/product/">Product</a><a class="chakra-link css-2j51ef" data-inline="inline" href="/use-cases/">Use Cases</a><a class="chakra-link css-2j51ef" data-inline="inline" href="/partners/">Partners</a><a class="chakra-link css-2j51ef" data-inline="inline" href="/consumer/">Consumer</a><a class="chakra-link css-2j51ef" data-inline="inline" href="/articles/">Articles</a><style data-emotion="css 1xylrbb">.css-1xylrbb{display:grid;grid-template-columns:1fr 1fr;}.css-1xylrbb >*:first-of-type:not(:last-of-type){border-top-right-radius:0;border-bottom-right-radius:0;}.css-1xylrbb >*:not(:first-of-type):not(:last-of-type){border-radius:0px;}.css-1xylrbb >*:not(:first-of-type):last-of-type{border-top-left-radius:0;border-bottom-left-radius:0;}</style><div role="group" class="chakra-button__group css-1xylrbb"><style data-emotion="css 13ocdhg">.css-13ocdhg{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-normal);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:var(--chakra-colors-dark-grey-70);margin-right:calc(var(--chakra-space-px) * -1);line-height:var(--chakra-lineHeights-5);border-radius:var(--chakra-radii-md);height:auto;min-width:var(--chakra-sizes-8);font-size:var(--chakra-fontSizes-xs);-webkit-padding-start:0.9375rem;padding-inline-start:0.9375rem;-webkit-padding-end:0.9375rem;padding-inline-end:0.9375rem;display:inline-block;padding-top:0.5625rem;padding-bottom:0.5625rem;text-align:center;border-color:var(--chakra-colors-light-grey-15);border-width:1px;}.css-13ocdhg:hover,.css-13ocdhg[data-hover]{z-index:1;border-color:var(--chakra-colors-dark-grey-60);color:var(--chakra-colors-black-85);}.css-13ocdhg:hover[disabled],.css-13ocdhg[data-hover][disabled],.css-13ocdhg:hover[aria-disabled=true],.css-13ocdhg[data-hover][aria-disabled=true],.css-13ocdhg:hover[data-disabled],.css-13ocdhg[data-hover][data-disabled]{background:initial;}.css-13ocdhg:focus,.css-13ocdhg[data-focus]{box-shadow:var(--chakra-shadows-outline);z-index:1;}.css-13ocdhg[disabled],.css-13ocdhg[aria-disabled=true],.css-13ocdhg[data-disabled]{opacity:0.4;cursor:not-allowed;box-shadow:var(--chakra-shadows-none);}</style><a target="_blank" rel="noreferrer noopener" class="chakra-link css-13ocdhg" href="https://console.banked.com/">Log In</a></div></div><style data-emotion="css bz0adz">.css-bz0adz{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;white-space:nowrap;vertical-align:middle;outline:2px solid transparent;outline-offset:2px;width:var(--chakra-sizes-10);line-height:1.2;border-radius:var(--chakra-radii-full);transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-normal);height:var(--chakra-sizes-10);padding:0px;margin:calc(var(--chakra-space-3) * -1);}.css-bz0adz:focus,.css-bz0adz[data-focus]{box-shadow:var(--chakra-shadows-outline);z-index:1;}.css-bz0adz[disabled],.css-bz0adz[aria-disabled=true],.css-bz0adz[data-disabled]{opacity:0.4;cursor:not-allowed;box-shadow:var(--chakra-shadows-none);}.css-bz0adz:hover,.css-bz0adz[data-hover]{z-index:1;}.css-bz0adz:hover[disabled],.css-bz0adz[data-hover][disabled],.css-bz0adz:hover[aria-disabled=true],.css-bz0adz[data-hover][aria-disabled=true],.css-bz0adz:hover[data-disabled],.css-bz0adz[data-hover][data-disabled]{background:initial;}@media screen and (min-width: 62em){.css-bz0adz{display:none;}}</style><button type="button" class="chakra-button css-bz0adz" aria-label="Open menu"><style data-emotion="css pnnj6a">.css-pnnj6a{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;width:var(--chakra-sizes-4);height:var(--chakra-sizes-4);border-radius:9999px;background:var(--chakra-colors-black-85);}</style><div aria-hidden="true" focusable="false" class="css-pnnj6a"></div></button></div></div></div><style data-emotion="css 1j4plho">.css-1j4plho{width:100%;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;max-width:90rem;-webkit-padding-start:var(--chakra-space-6);padding-inline-start:var(--chakra-space-6);-webkit-padding-end:var(--chakra-space-6);padding-inline-end:var(--chakra-space-6);padding-top:var(--chakra-space-16);padding-bottom:var(--chakra-space-16);}@media screen and (min-width: 48em){.css-1j4plho{-webkit-padding-start:var(--chakra-space-8);padding-inline-start:var(--chakra-space-8);-webkit-padding-end:var(--chakra-space-8);padding-inline-end:var(--chakra-space-8);padding-top:var(--chakra-space-56);padding-bottom:var(--chakra-space-28);}}@media screen and (min-width: 80em){.css-1j4plho{-webkit-padding-start:var(--chakra-space-28);padding-inline-start:var(--chakra-space-28);-webkit-padding-end:var(--chakra-space-28);padding-inline-end:var(--chakra-space-28);}}</style><div class="chakra-container css-1j4plho"><style data-emotion="css 1cshca9">.css-1cshca9{display:grid;grid-row-gap:var(--chakra-space-8);grid-column-gap:var(--chakra-space-6);}@media screen and (min-width: 48em){.css-1cshca9{grid-row-gap:var(--chakra-space-14);grid-column-gap:var(--chakra-space-8);}}@media screen and (min-width: 80em){.css-1cshca9{grid-row-gap:var(--chakra-space-16);}}</style><div class="css-1cshca9"><style data-emotion="css 2anezg">.css-2anezg{display:grid;grid-row-gap:var(--chakra-space-3-5);grid-column-gap:var(--chakra-space-6);grid-auto-rows:min-content;grid-template-columns:repeat(4, 1fr);}@media screen and (min-width: 48em){.css-2anezg{grid-row-gap:var(--chakra-space-3-5);grid-column-gap:var(--chakra-space-8);grid-template-columns:repeat(8, 1fr);}}@media screen and (min-width: 80em){.css-2anezg{grid-template-columns:repeat(12, 1fr);}}</style><div class="css-2anezg"><style data-emotion="css 1ooox9h">.css-1ooox9h{grid-column:span 4;}@media screen and (min-width: 48em){.css-1ooox9h{grid-column:span 8;}}@media screen and (min-width: 80em){.css-1ooox9h{grid-column:span 12;}}</style><div class="css-1ooox9h"><style data-emotion="css 10xsesa">.css-10xsesa{font-family:var(--chakra-fonts-body);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-sm);line-height:var(--chakra-lineHeights-8);}</style><div class="chakra-text css-10xsesa"><time dateTime="1587423600000">21 Apr 2020</time></div></div><style data-emotion="css jtjjmc">.css-jtjjmc{grid-column:span 4;}@media screen and (min-width: 48em){.css-jtjjmc{grid-column:span 7;}}@media screen and (min-width: 80em){.css-jtjjmc{grid-column:span 11;}}</style><div class="css-jtjjmc"><style data-emotion="css bja2ot">.css-bja2ot{font-family:var(--chakra-fonts-heading);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-3xl);line-height:var(--chakra-lineHeights-12);color:var(--chakra-colors-black-85);}@media screen and (min-width: 48em){.css-bja2ot{font-size:var(--chakra-fontSizes-4xl);}}@media screen and (min-width: 62em){.css-bja2ot{font-size:var(--chakra-fontSizes-5xl);line-height:var(--chakra-lineHeights-14);}}</style><h1 class="chakra-heading css-bja2ot">Shipping web components in 2020.</h1></div><style data-emotion="css u6zxu7">.css-u6zxu7{grid-column:span 4;}@media screen and (min-width: 48em){.css-u6zxu7{grid-column:span 6;}}@media screen and (min-width: 80em){.css-u6zxu7{grid-column:span 9;}}</style><div class="css-u6zxu7"><style data-emotion="css az73qs">.css-az73qs{font-family:var(--chakra-fonts-heading);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-xl);line-height:var(--chakra-lineHeights-10);}@media screen and (min-width: 62em){.css-az73qs{font-size:var(--chakra-fontSizes-2xl);}}</style><p class="chakra-heading css-az73qs">Recently, we shipped Banked.js, a component library for integrating account-to-account payments into any web application. We’d love to share what that process looked like.</p></div></div><div class="css-0"><style data-emotion="css 18biwo">.css-18biwo{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a role="group" data-inline="inline" href="/people/joe-pettersson/" class="css-18biwo"><style data-emotion="css ol06y6">.css-ol06y6{width:2.5rem;height:2.5rem;margin-right:var(--chakra-space-6);border-radius:var(--chakra-radii-full);position:relative;overflow:hidden;}</style><div class="css-ol06y6"><style data-emotion="css ddfw5i">.css-ddfw5i{overflow:hidden;}.css-ddfw5i >*{display:block!important;}</style><div class="css-ddfw5i"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Joe Pettersson" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;https://images.prismic.io/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png?auto=compress,format&amp;w=32&amp;blur=20&quot;)"/><noscript><img alt="Joe Pettersson" loading="lazy" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" sizes="100vw" srcSet="/images/static/w640_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png 640w, /images/static/w750_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png 750w, /images/static/w828_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png 828w, /images/static/w1080_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png 1080w, /images/static/w1200_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png 1200w, /images/static/w1920_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png 1920w, /images/static/w2048_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png 2048w, /images/static/w3840_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png 3840w" src="/images/static/w3840_q100/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png"/></noscript></span></div></div><div class="css-0"><style data-emotion="css j5w3u9">.css-j5w3u9{font-family:var(--chakra-fonts-body);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-xs);line-height:var(--chakra-lineHeights-6);color:var(--chakra-colors-black-85);}</style><p class="chakra-text css-j5w3u9" data-size="p3" data-variant="emphasised">Joe Pettersson</p><style data-emotion="css 11tp3rh">.css-11tp3rh{font-family:var(--chakra-fonts-body);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-xs);line-height:var(--chakra-lineHeights-6);}</style><p class="chakra-text css-11tp3rh" data-size="p3">Chief Technology Officer</p></div></a></div></div></div><div class="css-1cshca9"><div class="chakra-container css-6fp5g"><div class="css-0"><style data-emotion="css 155oyo8">.css-155oyo8{border-radius:var(--chakra-radii-md);overflow:hidden;max-width:2432px;}.css-155oyo8 >*{display:block!important;}</style><div class="css-155oyo8"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272432%27%20height=%271648%27/%3e"/></span><img alt="shipping web components" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;https://images.prismic.io/banked/1e574cfd-79bc-478c-ab7a-f034494d142d_shipping.png?auto=compress,format&amp;w=32&amp;blur=20&quot;)"/><noscript><img alt="shipping web components" loading="lazy" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" srcSet="/images/static/w3840_q100/banked/1e574cfd-79bc-478c-ab7a-f034494d142d_shipping.png 1x" src="/images/static/w3840_q100/banked/1e574cfd-79bc-478c-ab7a-f034494d142d_shipping.png"/></noscript></span></div></div></div><div class="chakra-container css-6fp5g"><style data-emotion="css 1fr6m73">.css-1fr6m73{display:grid;grid-row-gap:var(--chakra-space-6);grid-column-gap:var(--chakra-space-6);grid-template-columns:repeat(4, 1fr);}@media screen and (min-width: 48em){.css-1fr6m73{grid-row-gap:var(--chakra-space-8);grid-column-gap:var(--chakra-space-8);grid-template-columns:repeat(8, 1fr);}}@media screen and (min-width: 80em){.css-1fr6m73{grid-template-columns:repeat(12, 1fr);}}</style><div class="css-1fr6m73"><style data-emotion="css 1fqqw0g">.css-1fqqw0g{grid-column:span 4;}@media screen and (min-width: 48em){.css-1fqqw0g{grid-column:span 2;}}@media screen and (min-width: 62em){.css-1fqqw0g{grid-column:span 2;}}@media screen and (min-width: 80em){.css-1fqqw0g{grid-column:span 3;}}</style><div class="css-1fqqw0g"><style data-emotion="css 1toso7t">.css-1toso7t{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1toso7t>*:not(style)~*:not(style){margin-top:var(--chakra-space-2);-webkit-margin-end:0px;margin-inline-end:0px;margin-bottom:0px;-webkit-margin-start:0px;margin-inline-start:0px;}</style><div class="chakra-stack css-1toso7t"><style data-emotion="css 1dk6zm">.css-1dk6zm{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:top;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;line-height:var(--chakra-lineHeights-5);outline:2px solid transparent;outline-offset:2px;font-size:var(--chakra-fontSizes-3xs);letter-spacing:var(--chakra-letterSpacings-wider);text-transform:uppercase;white-space:nowrap;border-radius:var(--chakra-radii-md);-webkit-padding-start:0.625rem;padding-inline-start:0.625rem;-webkit-padding-end:0.625rem;padding-inline-end:0.625rem;padding-top:0.25rem;padding-bottom:0.25rem;color:var(--chakra-colors-black-85);background:var(--chakra-colors-light-grey-10);}.css-1dk6zm:focus,.css-1dk6zm[data-focus]{box-shadow:var(--chakra-shadows-outline);}a.css-1dk6zm{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-normal);text-decoration-thickness:from-font;}a.css-1dk6zm:hover,a.css-1dk6zm[data-hover]{background:var(--chakra-colors-light-grey-20);-webkit-text-decoration:none;text-decoration:none;}</style><a href="/articles/tag/technology/" class="css-1dk6zm">technology</a><a href="/articles/tag/developers/" class="css-1dk6zm">developers</a><a href="/articles/tag/banked+js/" class="css-1dk6zm">banked js</a><a href="/articles/tag/insight/" class="css-1dk6zm">insight</a><a href="/articles/tag/education/" class="css-1dk6zm">education</a></div></div><style data-emotion="css 98hgii">.css-98hgii{grid-column:span 4;}@media screen and (min-width: 48em){.css-98hgii{grid-column:3/span 6;}}@media screen and (min-width: 62em){.css-98hgii{grid-column:3/span 5;}}@media screen and (min-width: 80em){.css-98hgii{grid-column:4/span 7;}}</style><div class="css-98hgii"><style data-emotion="css 1mycx7c">.css-1mycx7c{font-family:var(--chakra-fonts-body);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-md);line-height:var(--chakra-lineHeights-8);}</style><div class="chakra-text css-1mycx7c" data-size="p1"><style data-emotion="css 9mpyd9">.css-9mpyd9{display:grid;grid-row-gap:var(--chakra-space-3-5);grid-column-gap:var(--chakra-space-6);grid-auto-rows:min-content;}@media screen and (min-width: 48em){.css-9mpyd9{grid-row-gap:var(--chakra-space-3-5);grid-column-gap:var(--chakra-space-8);}}.css-9mpyd9 a,.css-9mpyd9 a:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><div class="css-9mpyd9"><style data-emotion="css 1j3082m">.css-1j3082m{font-family:var(--chakra-fonts-heading);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-2xl);line-height:var(--chakra-lineHeights-10);}@media screen and (min-width: 62em){.css-1j3082m{font-size:var(--chakra-fontSizes-3xl);line-height:var(--chakra-lineHeights-12);}}</style><h4 class="chakra-heading css-1j3082m" data-size="h3"><style data-emotion="css 1j1wgvm">.css-1j1wgvm{color:var(--chakra-colors-black-85);}</style><strong class="css-1j1wgvm">Recently, we shipped <style data-emotion="css 1u6vesq">.css-1u6vesq{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-normal);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:inherit;}.css-1u6vesq:hover,.css-1u6vesq[data-hover]{-webkit-text-decoration:none;text-decoration:none;text-decoration-thickness:from-font;color:var(--chakra-colors-black-85);}.css-1u6vesq:focus,.css-1u6vesq[data-focus]{box-shadow:var(--chakra-shadows-outline);}</style><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://developer.banked.com/docs/bankedjs">Banked.js</a>, a component library for integrating account-to-account payments into any web application. We’d love to share what that process looked like, from vanilla JavaScript to shipping a web-component: what we thought about, what we tried, and why. We also wanted to talk about what it’s like to build and ship a web component in 2020.</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"></p><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">What is Banked.js and why did you create it?</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">The Banked platform enables anyone to take direct account-to-account payments. We provide several ways of doing this, ranging from the very easy to implement (using our hosted checkout) to the more involved (building your own custom checkout experience using our <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://developer.banked.com/reference#the-checkout-api">Checkout API</a>).</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">When we spoke to our customers, we often heard the feedback that they wanted a middle ground. Specifically, they wanted a way of embedding our checkout inside their user experience (and therefore controlling it) but with no need to build it entirely themselves.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">The core of Banked’s checkout is a screen where users select which bank they’d like to pay with. From here, they are redirected to their chosen bank’s authorisation flow and back to a callback URL provided by the merchant.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We wanted to provide a way of our customers easily integrating this UI and behaviour into their web applications. Embedding the UI widget with JavaScript was the obvious answer as many of our customers have experience with embedding payment widgets, but that comes with concerns for everybody.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">The blessing and curse of being on other people’s pages.</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm"><style data-emotion="css 1o1tx7n">.css-1o1tx7n{font-family:var(--chakra-fonts-body);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-xs);line-height:var(--chakra-lineHeights-6);display:inline-block;}</style><span class="chakra-text css-1o1tx7n" data-size="p3">EMBEDDED USER EXPERIENCE.</span></strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Embedding a UI into one you don’t control forces you to answer a few of questions:</strong></p><style data-emotion="css 155za0w">.css-155za0w{list-style-type:none;}</style><ul role="list" font="inherit" class="css-155za0w"><style data-emotion="css k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><li class="css-k008qs"><style data-emotion="css izg0vo">.css-izg0vo{width:0.875em;height:1.125em;display:inline;line-height:1em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:var(--chakra-colors-black-85);-webkit-margin-end:0.5rem;margin-inline-end:0.5rem;vertical-align:text-bottom;margin-right:0.5em;margin-top:0.625em;}</style><style data-emotion="css 1a3tuj6">.css-1a3tuj6{width:1em;height:1em;display:inline-block;line-height:1em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:currentColor;vertical-align:middle;width:0.875em;height:1.125em;display:inline;line-height:1em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:var(--chakra-colors-black-85);-webkit-margin-end:0.5rem;margin-inline-end:0.5rem;vertical-align:text-bottom;margin-right:0.5em;margin-top:0.625em;}</style><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">What’s the minimum UX/UI you can provide to deliver value?</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">How (or should) our embed react to the UX and layout around it?</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Should implementors be able to customise our embed? If so, how much? Would allowing them to customise it affect the ability to provide a service? Or lead to ‘worse’ outcomes for their users?</strong></p></span></li></ul><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">After some deliberation, this is how we answered:</strong></p><ul role="list" font="inherit" class="css-155za0w"><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We’re just going to be embed the bank selection UI</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Yes, it should react (in a limited way) to the surrounding UI (being responsive to screen size/orientation), expanding to fill its parent container</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">It should only allow customisation in a <em>very</em> controlled way</strong></p></span></li></ul><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">The customisation we offered was simple: you can use our reactive button or not. There’s a lot of hard learned lessons and optimisations we’ve made to this screen from our own hosted checkout (e.g. how does it react to a bank not being available?) and customisation might mean a bad experience for end-users and a poor conversion experience for merchants; if they really want that level of control they can always implement our <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://developer.banked.com/reference#the-checkout-api">Checkout API</a>.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">So, why did we ship a button at all? And why do we recommend our customers use it by default?</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Two reasons:</strong></p><ul role="list" font="inherit" class="css-155za0w"><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We’ve learned that giving users more context for what will happen next (e.g. going to their mobile banking app) helps conversion, branding the button after you select your bank helps too</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">The next step is redirecting users to their selected bank’s authorisation URL. Unless this happens after a ‘user sourced event’, like a button click, many browsers will prevent the bank’s app deep-link from opening. We learned this lesson the hard way and we want to avoid our customers needing to learn it too!</strong></p></span></li></ul><p class="chakra-text css-1mycx7c" data-size="p1"></p><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">Being good citizens on our customers’ pages.</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Page weight and performance is increasingly important for our merchant customers, not least because of <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://blog.hubspot.com/marketing/page-load-time-conversion-rates">the impact it has on conversion rates</a>; we need to vociferously defend every byte we ship to them and every tick of the browser’s rendering we use.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">This led us to our Rules of the Game:</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><style data-emotion="css 1dg6mvm">.css-1dg6mvm{list-style-type:decimal;-webkit-margin-start:1em;margin-inline-start:1em;}</style><ol role="list" font="inherit" class="css-1dg6mvm"><li><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Bundle size should be as small as humanly possible.</strong></p></li><li><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We should constantly track, measure, and optimise on-page performance.</strong></p></li><li><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">If we break, we break gracefully and have as few side effects on the page as possible.</strong></p></li></ol><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We measure bundle size (1) through <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://webpack.js.org/configuration/performance/">WebPack’s performance API</a>, erroring our build if we go over our pre-defined size limits, we also have bundle size optimisation as part of the ‘definition of done’ for tasks we work on with Banked.js. Measuring and optimisation (2) is achieved through vigorous testing and usage of the <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/performance">window.performance browser API.</a></strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">However, anyone who has built an embeddable UI knows breaking gracefully (3) is hard. Only <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:scope">recently has the CSS community started embracing scoping</a>, without which styling clashes and side-effects from the parent page, and the embed itself, can have serious consequences. Beyond CSS, JavaScript’s global mutable state and single threaded event loop can make small changes have unintended functional or performance implications.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">How could we solve these issues? Use <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://medium.com/seek-blog/the-end-of-global-css-90d2a4a06284">tooling to automatically scope our CSS declarations</a>? <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Use WebWorkers</a> to avoid on page performance impacts? Lint and statically analyse our code as much as possible to avoid common foot-guns? These are all encapsulation problems, and we eventually realised web components and their associated web APIs mitigate many of these issues.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Embedding an iframe could have helped us solve these issues but it would have also introduced a lot of others: working around CSP and frame busting protections on our customers’ sites; ad and script blockers being increasingly aggressive with blocking iframes; and browser security protections limiting access to the top object from within the frame, preventing easy two-way integration with the embedding page.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">Making implementors lives as easy as possible.</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">An explicit goal for Banked.js was making it as easy to integrate and use as possible. When we first started thinking about this project, we considered directly building components for JavaScript frameworks (like React or Vue) but when we investigated we realised, A) adoption of these frameworks wasn’t high enough amongst our customer base to justify it, and B) the cardinality of framework, versions, and tooling amongst those that <em>had</em> adopted it was high enough that it would take forever to get to significant coverage.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">So we went down the path of being framework agnostic, exposing a simple enough API to integrate with any framework and version easily, ensuring a consistently straightforward implementation for our users.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Our design goal was for the API to be DOM based: you give us a tag on the page and a payment ID and we’ll take care of everything else. Our implementors shouldn’t have to care about order of precedence, loading, or asynchronicity unless they choose to. Web Components ended up adding <em>huge</em> value here, saving us a considerable amount of work building on page APIs (which we built ourselves in our first non Web Component version).</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Web Components also gave us a lot of ‘defensiveness’ for free. We want to provide a reliable service to our customers, and sometimes that involves us protecting them from themselves; Web Component’s encapsulation gives us a lot of that protection out of the box.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">Version 1: Vanilla JavaScript and fighting the battle for encapsulation.</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">The vision was simple: include a JavaScript snippet and give a DOM node a magic ID. Voila, you have your bank selection screen.</strong></p></div></div></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><em>Our initial API design for Banked.js</em></p></div></div><style data-emotion="css t458g1">.css-t458g1{grid-column:span 4;}@media screen and (min-width: 48em){.css-t458g1{grid-column:3/span 6;}}@media screen and (min-width: 62em){.css-t458g1{grid-column:3/span 6;}}@media screen and (min-width: 80em){.css-t458g1{grid-column:4/span 9;}}</style><div class="css-t458g1"><iframe width="100%" frameBorder="0" id="gist-312bd33d1db7cf484c69652b4e6e903f"></iframe></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="chakra-text css-1mycx7c" data-size="p1"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We thought this was simple, clean, easy to understand, and could be integrated easily into most tools and frameworks. You could then attach a DOM event listener to capture the custom event emitted by the component:</strong></p></div></div></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><em>Getting the authorisation URL with JavaScript from out initial design</em></p></div></div><div class="css-t458g1"><iframe width="100%" frameBorder="0" id="gist-bd73ae6e08cd4dd3a2dba5e8903bc62d"></iframe></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="chakra-text css-1mycx7c" data-size="p1"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We would handle all the mounting, API requests, and asynchronicity internally. Leaving very little work for the implementor.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">It worked, but it felt <em>brittle</em>.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><ul role="list" font="inherit" class="css-155za0w"><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Magic ID’s felt easily broken (<a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://html.spec.whatwg.org/multipage/window-object.html#named-access-on-the-window-object">named access on the window object</a> could have some unintended side effects, for example) and could be confusing to implement (did it have to be on a div element? Why not an article?)</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We had to write a <em>lot</em> of code to handle the order of precedence and rendering (e.g. what happens if the data-payment-id isn’t set until <em>after</em> the page has rendered?)</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Even if we namespaced all our CSS, any change to global elements (like form fields, links, buttons) would have serious consequences for our layout. Writing overly specific CSS targeting, littering our code with !importantor inlining our CSS was hard to maintain and would lead to weird edge case performance and rendering issues.</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We had to write a disconcerting amount of JavaScript, and it all needed to run in the same event loop as the encapsulating page. It proved hard to do this defensively and in a way that we were confident wouldn’t impact page performance.</strong><br/></p></span></li></ul><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We also hadn’t planned to deal with user sourced events being needed to not break the bank’s redirect, but when we gave this version to the rest of the engineering team to play with, they quickly implemented this:</strong></p></div></div></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><em>Pure JavaScript redirects break in mobile safari, you need a user sourced event!</em></p></div></div><div class="css-t458g1"><iframe width="100%" frameBorder="0" id="gist-f73de03535739dc7356fee307d521e5c"></iframe></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="chakra-text css-1mycx7c" data-size="p1"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Which didn’t work in the hard to diagnose and understand way described above. We realised this would be common for our external implementors too.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">Version 2: Web Components and, “Pfft, we don’t need none of that tooling”.</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">One of our engineers had a brainwave when thinking about the issues we’d run into, ‘Web Components!’.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Web Components are now a mature and <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://caniuse.com/#search=components">well supported</a> set of web APIs. They seemed to be perfectly designed for our use case and the challenges we were running into (particularly <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">the Shadow DOM</a>). We quickly built a new version, using the raw APIs, and it looked great:</strong></p></div></div></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><em>The new Web Components based API for Banked.js</em></p></div></div><div class="css-t458g1"><iframe width="100%" frameBorder="0" id="gist-f2f6c4e9c855e69db7001851bc439feb"></iframe></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="chakra-text css-1mycx7c" data-size="p1"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">(Notice we also added a second component, the button).</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">It provided most of the encapsulation we were after, handled the mounting and initialising of our component, and we had to write zero lines of code to do it. It also provided a much clearer, more semantic API for implementors to understand: no more magic strings and ambiguous DOM nodes. It even provided nice ways of handling event emission and nicely integrated as a part of a form element out of the box.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Results from our engineering team were positive, there were far fewer gotchas and heffalump traps when they created toy implementations. Most of them got it working in minutes!</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">A new challenge emerged. We’d built a successful <em>thing,</em> but the tooling necessary to make us happy with its integrity, quality, and safety eluded us. Tooling for JavaScript projects is not something you usually lack, so we were interested to find so few options for testing, linting, and building Web Components.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Before we had started on V2, we looked at <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://www.polymer-project.org/">Polymer</a> and were pretty confused about its current status (parts of it are deprecated but are still used? Other projects under its banner appear to do similar things to the original Polymer library but not all of them?). It didn’t inspire confidence, and we discarded it in favour of quickly getting something up and running.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">This bears true for most of the Web Components ecosystem: it’s confusing, buggy, and riddled with out-of-date docs and confusingly deprecated tools.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">A particularly annoying issue was the lack of support (or bugginess) of Web Components implementations in popular testing tools; the web component community&#x27;s default fall back is saying, ‘You need to use a full browser run-time,’ (like <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://karma-runner.github.io/latest/index.html">Karma</a>). Full support for non-browser headless/JS runtimes would have made this process, and our CI infrastructure, much simpler.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">Version 3: Web Components and, “Turns out we do need that tooling”.</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">During our search through the dark and murky corners of the Web Components community we came across <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://open-wc.org/">Open-WC</a>: a laudable and successful effort to combine various tools and frameworks into a usable, opinionated, and reliable toolchain for building web components.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">It provides:</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><ul role="list" font="inherit" class="css-155za0w"><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Working (and sensible) linters (ESLint and Stylist) configured for working with Web Components</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">A framework and tooling for development, which was otherwise difficult and fragile to maintain</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">A suite of tools for testing (unit, integration and accessibility)</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Build tooling (for our choice of tool WebPack, but also Rollup)</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">Deployment and demo tooling (through a pretty sweet <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://storybook.js.org/">Storybook</a> integration)</strong><br/></p></span></li></ul><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We quickly moved Banked.js to use Open WC and haven’t looked back. It’s meant we could delete a huge amount of home-brewed tooling and the tradeoffs have been worth it.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">It imposes a <em>small</em> bundle size penalty (mainly through its use of <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://lit-element.polymer-project.org/">LitElement</a>) but it was a small price worth paying for the development ergonomics and maintenance benefits. We’ve also changed its default build, and don’t use the &lt;script&gt; based ES modules it comes configured with.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">So now we’re left with a useful, safe, and reliable component any of our customers can use to embed account-to-account payments into their web app:</strong></p></div></div></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><em>Our final API for Banked.js</em></p></div></div><div class="css-t458g1"><iframe width="100%" frameBorder="0" id="gist-f2f6c4e9c855e69db7001851bc439feb"></iframe></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="chakra-text css-1mycx7c" data-size="p1"><div class="css-9mpyd9"><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">Serving Banked.js</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">After we build Banked.js via Github Actions, we deploy it to Cloudflare’s <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://www.cloudflare.com/products/workers-kv/">KV Store</a> and serve it to end users via <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://workers.cloudflare.com/">a Worker</a>. CloudFlare workers are serverless functions that are distributed and run in Cloudflare’s <a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://www.cloudflare.com/network/">200+ POPs</a>.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We use workers (rather than Cloudflare’s pull based CDN) because it enables us to do a few different things that just aren’t possible (or if possible, not easy) with traditional CDNs, namely:</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><ul role="list" font="inherit" class="css-155za0w"><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We can serve a debug build if the request comes from a specified domain or with a certain cookie set.</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We can serve different versions to different user agents if we want to dynamically include polyfills.</strong></p></span></li><li class="css-k008qs"><svg viewBox="0 0 12 16" focusable="false" class="chakra-icon chakra-icon css-1a3tuj6" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.907 3.293a1 1 0 010 1.414l-5.6 5.6a1 1 0 01-1.414 0l-2.6-2.6a1 1 0 011.414-1.414L4.6 8.186l4.893-4.893a1 1 0 011.414 0z" fill="currentColor"></path></svg><span class="css-0"><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We can multivariate test new versions of the script without implementors needing to update their config.</strong><br/></p></span></li></ul><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">The example below is a worker function that serves a debug build if a cookie is present on the request (getting the JS from the KV store is omitted for brevity):</strong></p></div></div></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="css-9mpyd9"><p class="chakra-text css-1mycx7c" data-size="p1"><em>Cloudflare worker to serve a debug build of Banked.js</em></p></div></div><div class="css-t458g1"><iframe width="100%" frameBorder="0" id="gist-4bc1c66a07b0c44f1cca24bbabcf8ad7"></iframe></div></div></div><div class="chakra-container css-6fp5g"><div class="css-1fr6m73"><div class="css-98hgii"><div class="chakra-text css-1mycx7c" data-size="p1"><div class="css-9mpyd9"><h4 class="chakra-heading css-1j3082m" data-size="h3"><strong class="css-1j1wgvm">The future of embedded checkout at Banked.</strong></h4><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We’ve ended up very happy with Banked.js: it provides our customers with a valuable, lightweight way of taking account-to-account payments and is easy and safe for us to iterate on and improve. Our aim is to open source Banked.js in the next few weeks.</strong></p><p class="chakra-text css-1mycx7c" data-size="p1"></p><p class="chakra-text css-1mycx7c" data-size="p1"><strong class="css-1j1wgvm">We’re also looking at how we can bring the same easy, safe integration experience to our customers’ native applications. Watch this space!</strong></p></div></div></div></div></div></div></div><div class="chakra-container css-6fp5g"><style data-emotion="css 1iq6v55">.css-1iq6v55{border:0;border-color:var(--chakra-colors-light-grey-10);border-style:solid;border-bottom-width:1px;width:100%;}</style><hr aria-orientation="horizontal" class="chakra-divider css-1iq6v55"/><style data-emotion="css ov8q1p">.css-ov8q1p{display:grid;grid-row-gap:var(--chakra-space-16);grid-column-gap:var(--chakra-space-6);grid-template-columns:repeat(4, 1fr);margin-top:var(--chakra-space-14);margin-bottom:var(--chakra-space-20);}@media screen and (min-width: 48em){.css-ov8q1p{grid-row-gap:var(--chakra-space-24);grid-column-gap:var(--chakra-space-8);grid-template-columns:repeat(8, 1fr);margin-bottom:var(--chakra-space-40);}}@media screen and (min-width: 80em){.css-ov8q1p{grid-row-gap:var(--chakra-space-28);grid-template-columns:repeat(12, 1fr);}}</style><div class="css-ov8q1p"><style data-emotion="css tuh9u2">.css-tuh9u2{grid-column:span 2/span 2;}</style><div class="css-tuh9u2"><style data-emotion="css 1yvoqx6">.css-1yvoqx6{display:grid;grid-row-gap:var(--chakra-space-6);grid-column-gap:var(--chakra-space-6);}@media screen and (min-width: 48em){.css-1yvoqx6{grid-row-gap:var(--chakra-space-8);grid-column-gap:var(--chakra-space-8);}}</style><div class="css-1yvoqx6"><style data-emotion="css jkdivv">.css-jkdivv{font-family:var(--chakra-fonts-body);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-3xs);line-height:var(--chakra-lineHeights-5);letter-spacing:var(--chakra-letterSpacings-wider);text-transform:uppercase;color:var(--chakra-colors-black-85);}</style><h6 class="chakra-text css-jkdivv" data-size="p5" data-variant="tag">Company</h6><style data-emotion="css 2mkmqy">.css-2mkmqy{display:grid;grid-row-gap:var(--chakra-space-1);grid-column-gap:var(--chakra-space-6);grid-auto-rows:min-content;}@media screen and (min-width: 48em){.css-2mkmqy{grid-column-gap:var(--chakra-space-8);}}</style><div class="css-2mkmqy"><p class="chakra-text css-1mycx7c" data-size="p1"><a class="chakra-link css-1u6vesq" data-inline="inline" href="/about/">About</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a class="chakra-link css-1u6vesq" data-inline="inline" href="/faqs/">FAQs</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a class="chakra-link css-1u6vesq" data-inline="inline" href="/press/">Press</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a class="chakra-link css-1u6vesq" data-inline="inline" href="/contact/">Contact Sales</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a class="chakra-link css-1u6vesq" data-inline="inline" href="/careers/">Careers</a></p></div></div></div><div class="css-tuh9u2"><div class="css-1yvoqx6"><h6 class="chakra-text css-jkdivv" data-size="p5" data-variant="tag">Platform</h6><div class="css-2mkmqy"><p class="chakra-text css-1mycx7c" data-size="p1"><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://developer.banked.com/">Developers</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://console.banked.com/">Log In</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://status.banked.com/">Status</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://support.paybybank.com">Support</a></p></div></div></div><div class="css-tuh9u2"><div class="css-1yvoqx6"><h6 class="chakra-text css-jkdivv" data-size="p5" data-variant="tag">Community</h6><div class="css-2mkmqy"><p class="chakra-text css-1mycx7c" data-size="p1"><a class="chakra-link css-1u6vesq" data-inline="inline" href="/articles/">Articles</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://www.linkedin.com/company/banked-limited/">LinkedIn</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://twitter.com/wearebanked">Twitter</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://medium.com/@banked">Medium</a></p></div></div></div><div class="css-tuh9u2"><div class="css-1yvoqx6"><h6 class="chakra-text css-jkdivv" data-size="p5" data-variant="tag">Legal</h6><div class="css-2mkmqy"><p class="chakra-text css-1mycx7c" data-size="p1"><a target="_blank" rel="noreferrer noopener" class="chakra-link css-1u6vesq" href="https://banked.com/privacy">Privacy Policy</a></p><p class="chakra-text css-1mycx7c" data-size="p1"><a class="chakra-link css-1u6vesq" data-inline="inline" href="/terms-and-conditions/pay-by-bank/">Terms + Conditions</a></p></div></div></div></div><style data-emotion="css 1cpqzw7">.css-1cpqzw7{display:grid;grid-row-gap:var(--chakra-space-6);grid-column-gap:var(--chakra-space-6);-webkit-align-items:end;-webkit-box-align:end;-ms-flex-align:end;align-items:end;margin-bottom:var(--chakra-space-20);}@media screen and (min-width: 48em){.css-1cpqzw7{grid-row-gap:var(--chakra-space-8);grid-column-gap:var(--chakra-space-8);}}@media screen and (min-width: 62em){.css-1cpqzw7{grid-template-columns:1fr auto;}}</style><div class="css-1cpqzw7"><style data-emotion="css p8x918">.css-p8x918{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-p8x918>*:not(style)~*:not(style){margin-top:var(--chakra-space-6);-webkit-margin-end:0px;margin-inline-end:0px;margin-bottom:0px;-webkit-margin-start:0px;margin-inline-start:0px;}@media screen and (min-width: 62em){.css-p8x918>*:not(style)~*:not(style){margin-top:0px;}}</style><div class="chakra-stack css-p8x918"><style data-emotion="css 33zbi">.css-33zbi{font-family:var(--chakra-fonts-body);font-size:var(--chakra-fontSizes-3xs);line-height:var(--chakra-lineHeights-5);letter-spacing:var(--chakra-letterSpacings-wider);text-transform:uppercase;}</style><div class="chakra-text css-33zbi" data-size="tag"><style data-emotion="css 13olv4x">.css-13olv4x{display:grid;grid-row-gap:var(--chakra-space-3-5);grid-column-gap:var(--chakra-space-6);grid-auto-rows:min-content;}@media screen and (min-width: 48em){.css-13olv4x{grid-row-gap:var(--chakra-space-3-5);grid-column-gap:var(--chakra-space-8);}}</style><div class="css-13olv4x"><p class="chakra-text css-1mycx7c" data-size="p1"><style data-emotion="css ubo3da">.css-ubo3da{font-family:var(--chakra-fonts-body);font-size:var(--chakra-fontSizes-3xs);line-height:var(--chakra-lineHeights-5);letter-spacing:var(--chakra-letterSpacings-wider);text-transform:uppercase;display:inline-block;}</style><span class="chakra-text css-ubo3da" data-size="tag">Banked Ltd is authorised and regulated by the UK Financial Conduct Authority<br/>151 Wardour St, Unit 5.01, London, W1F 8WE, UK<br/>Company number 11047186   :   Firm Reference Number 816944   :   +44 (0) 20 8090 2747</span></p></div></div></div><style data-emotion="css 1obnmfr">.css-1obnmfr{font-family:var(--chakra-fonts-body);font-weight:var(--chakra-fontWeights-normal);font-size:var(--chakra-fontSizes-3xs);line-height:var(--chakra-lineHeights-5);letter-spacing:var(--chakra-letterSpacings-wider);text-transform:uppercase;}</style><p class="chakra-text css-1obnmfr" data-size="p5" data-variant="tag">© Banked : <!-- -->2024</p></div></div></div><span></span></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"page":{"id":"YVMy2xAAACEA7BAF","uid":"shipping-web-components-in-2020","url":null,"type":"article","href":"https://banked.cdn.prismic.io/api/v2/documents/search?ref=ZytR0hYAADAAMUe6\u0026q=%5B%5B%3Ad+%3D+at%28document.id%2C+%22YVMy2xAAACEA7BAF%22%29+%5D%5D","tags":["technology","developers","banked js","insight","education"],"first_publication_date":"2021-09-28T15:21:04+0000","last_publication_date":"2021-09-29T15:43:25+0000","slugs":["shipping-web-components-in-2020."],"linked_documents":[],"lang":"en-gb","alternate_languages":[],"data":{"title":"Shipping web components in 2020.","description":"Recently, we shipped Banked.js, a component library for integrating account-to-account payments into any web application. We’d love to share what that process looked like.","image":{"dimensions":{"width":2432,"height":1648},"alt":"shipping web components","copyright":null,"url":"https://images.prismic.io/banked/1e574cfd-79bc-478c-ab7a-f034494d142d_shipping.png?auto=compress,format","id":"YVNh2xAAACEA7Oaa","edit":{"x":0,"y":0,"zoom":1,"background":"transparent"}},"author":{"id":"YUuR0BEAACMAuH1e","type":"person","tags":[],"lang":"en-gb","slug":"joe-pettersson","first_publication_date":"2021-09-22T20:28:06+0000","last_publication_date":"2021-09-29T16:47:53+0000","uid":"joe-pettersson","data":{"full_name":"Joe Pettersson","role":"Chief Technology Officer","image":{"dimensions":{"width":160,"height":160},"alt":"Joe Pettersson","copyright":null,"url":"https://images.prismic.io/banked/9a5546bb-dc84-403f-b062-1ed795cbb746_author-joe.png?auto=compress,format","id":"YUtfaBEAACEAt5xx","edit":{"x":0,"y":0,"zoom":1,"background":"transparent"}}},"link_type":"Document","isBroken":false},"post_date":"2020-04-21","header":[{"primary":{"image":{"dimensions":{"width":2432,"height":1648},"alt":"shipping web components","copyright":null,"url":"https://images.prismic.io/banked/1e574cfd-79bc-478c-ab7a-f034494d142d_shipping.png?auto=compress,format","id":"YVNh2xAAACEA7Oaa","edit":{"x":0,"y":0,"zoom":1,"background":"transparent"}},"caption":[]},"items":[{}],"id":"image$a47d9b4d-6e88-4bce-8989-d918b503a24d","slice_type":"image","slice_label":null}],"body":[{"primary":{"text":[{"type":"heading3","text":"Recently, we shipped Banked.js, a component library for integrating account-to-account payments into any web application. We’d love to share what that process looked like, from vanilla JavaScript to shipping a web-component: what we thought about, what we tried, and why. We also wanted to talk about what it’s like to build and ship a web component in 2020.","spans":[{"start":0,"end":358,"type":"strong"},{"start":21,"end":30,"type":"hyperlink","data":{"link_type":"Web","url":"https://developer.banked.com/docs/bankedjs","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"heading3","text":"What is Banked.js and why did you create it?","spans":[{"start":0,"end":44,"type":"strong"}]},{"type":"paragraph","text":"The Banked platform enables anyone to take direct account-to-account payments. We provide several ways of doing this, ranging from the very easy to implement (using our hosted checkout) to the more involved (building your own custom checkout experience using our Checkout API).","spans":[{"start":0,"end":277,"type":"strong"},{"start":263,"end":275,"type":"hyperlink","data":{"link_type":"Web","url":"https://developer.banked.com/reference#the-checkout-api","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"When we spoke to our customers, we often heard the feedback that they wanted a middle ground. Specifically, they wanted a way of embedding our checkout inside their user experience (and therefore controlling it) but with no need to build it entirely themselves.","spans":[{"start":0,"end":261,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"The core of Banked’s checkout is a screen where users select which bank they’d like to pay with. From here, they are redirected to their chosen bank’s authorisation flow and back to a callback URL provided by the merchant.","spans":[{"start":0,"end":222,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"We wanted to provide a way of our customers easily integrating this UI and behaviour into their web applications. Embedding the UI widget with JavaScript was the obvious answer as many of our customers have experience with embedding payment widgets, but that comes with concerns for everybody.","spans":[{"start":0,"end":293,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"heading3","text":"The blessing and curse of being on other people’s pages.","spans":[{"start":0,"end":56,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"EMBEDDED USER EXPERIENCE.","spans":[{"start":0,"end":25,"type":"label","data":{"label":"p3"}},{"start":0,"end":25,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"Embedding a UI into one you don’t control forces you to answer a few of questions:","spans":[{"start":0,"end":82,"type":"strong"}]},{"type":"list-item","text":"What’s the minimum UX/UI you can provide to deliver value?","spans":[{"start":0,"end":58,"type":"strong"}]},{"type":"list-item","text":"How (or should) our embed react to the UX and layout around it?","spans":[{"start":0,"end":63,"type":"strong"}]},{"type":"list-item","text":"Should implementors be able to customise our embed? If so, how much? Would allowing them to customise it affect the ability to provide a service? Or lead to ‘worse’ outcomes for their users?","spans":[{"start":0,"end":190,"type":"strong"}]},{"type":"paragraph","text":"After some deliberation, this is how we answered:","spans":[{"start":0,"end":49,"type":"strong"}]},{"type":"list-item","text":"We’re just going to be embed the bank selection UI","spans":[{"start":0,"end":50,"type":"strong"}]},{"type":"list-item","text":"Yes, it should react (in a limited way) to the surrounding UI (being responsive to screen size/orientation), expanding to fill its parent container","spans":[{"start":0,"end":147,"type":"strong"}]},{"type":"list-item","text":"It should only allow customisation in a very controlled way","spans":[{"start":0,"end":59,"type":"strong"},{"start":40,"end":44,"type":"em"}]},{"type":"paragraph","text":"The customisation we offered was simple: you can use our reactive button or not. There’s a lot of hard learned lessons and optimisations we’ve made to this screen from our own hosted checkout (e.g. how does it react to a bank not being available?) and customisation might mean a bad experience for end-users and a poor conversion experience for merchants; if they really want that level of control they can always implement our Checkout API.","spans":[{"start":0,"end":441,"type":"strong"},{"start":428,"end":440,"type":"hyperlink","data":{"link_type":"Web","url":"https://developer.banked.com/reference#the-checkout-api","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"So, why did we ship a button at all? And why do we recommend our customers use it by default?","spans":[{"start":0,"end":93,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"Two reasons:","spans":[{"start":0,"end":12,"type":"strong"}]},{"type":"list-item","text":"We’ve learned that giving users more context for what will happen next (e.g. going to their mobile banking app) helps conversion, branding the button after you select your bank helps too","spans":[{"start":0,"end":186,"type":"strong"}]},{"type":"list-item","text":"The next step is redirecting users to their selected bank’s authorisation URL. Unless this happens after a ‘user sourced event’, like a button click, many browsers will prevent the bank’s app deep-link from opening. We learned this lesson the hard way and we want to avoid our customers needing to learn it too!","spans":[{"start":0,"end":311,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"heading3","text":"Being good citizens on our customers’ pages.","spans":[{"start":0,"end":44,"type":"strong"}]},{"type":"paragraph","text":"Page weight and performance is increasingly important for our merchant customers, not least because of the impact it has on conversion rates; we need to vociferously defend every byte we ship to them and every tick of the browser’s rendering we use.","spans":[{"start":0,"end":249,"type":"strong"},{"start":103,"end":140,"type":"hyperlink","data":{"link_type":"Web","url":"https://blog.hubspot.com/marketing/page-load-time-conversion-rates","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"This led us to our Rules of the Game:","spans":[{"start":0,"end":37,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"o-list-item","text":"Bundle size should be as small as humanly possible.","spans":[{"start":0,"end":51,"type":"strong"}]},{"type":"o-list-item","text":"We should constantly track, measure, and optimise on-page performance.","spans":[{"start":0,"end":70,"type":"strong"}]},{"type":"o-list-item","text":"If we break, we break gracefully and have as few side effects on the page as possible.","spans":[{"start":0,"end":86,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"We measure bundle size (1) through WebPack’s performance API, erroring our build if we go over our pre-defined size limits, we also have bundle size optimisation as part of the ‘definition of done’ for tasks we work on with Banked.js. Measuring and optimisation (2) is achieved through vigorous testing and usage of the window.performance browser API.","spans":[{"start":0,"end":351,"type":"strong"},{"start":35,"end":60,"type":"hyperlink","data":{"link_type":"Web","url":"https://webpack.js.org/configuration/performance/","target":"_blank"}},{"start":320,"end":351,"type":"hyperlink","data":{"link_type":"Web","url":"https://developer.mozilla.org/en-US/docs/Web/API/Window/performance","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"However, anyone who has built an embeddable UI knows breaking gracefully (3) is hard. Only recently has the CSS community started embracing scoping, without which styling clashes and side-effects from the parent page, and the embed itself, can have serious consequences. Beyond CSS, JavaScript’s global mutable state and single threaded event loop can make small changes have unintended functional or performance implications.","spans":[{"start":0,"end":426,"type":"strong"},{"start":91,"end":147,"type":"hyperlink","data":{"link_type":"Web","url":"https://developer.mozilla.org/en-US/docs/Web/CSS/:scope","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"How could we solve these issues? Use tooling to automatically scope our CSS declarations? Use WebWorkers to avoid on page performance impacts? Lint and statically analyse our code as much as possible to avoid common foot-guns? These are all encapsulation problems, and we eventually realised web components and their associated web APIs mitigate many of these issues.","spans":[{"start":0,"end":367,"type":"strong"},{"start":37,"end":88,"type":"hyperlink","data":{"link_type":"Web","url":"https://medium.com/seek-blog/the-end-of-global-css-90d2a4a06284","target":"_blank"}},{"start":90,"end":104,"type":"hyperlink","data":{"link_type":"Web","url":"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"Embedding an iframe could have helped us solve these issues but it would have also introduced a lot of others: working around CSP and frame busting protections on our customers’ sites; ad and script blockers being increasingly aggressive with blocking iframes; and browser security protections limiting access to the top object from within the frame, preventing easy two-way integration with the embedding page.","spans":[{"start":0,"end":411,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"heading3","text":"Making implementors lives as easy as possible.","spans":[{"start":0,"end":46,"type":"strong"}]},{"type":"paragraph","text":"An explicit goal for Banked.js was making it as easy to integrate and use as possible. When we first started thinking about this project, we considered directly building components for JavaScript frameworks (like React or Vue) but when we investigated we realised, A) adoption of these frameworks wasn’t high enough amongst our customer base to justify it, and B) the cardinality of framework, versions, and tooling amongst those that had adopted it was high enough that it would take forever to get to significant coverage.","spans":[{"start":0,"end":524,"type":"strong"},{"start":435,"end":438,"type":"em"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"So we went down the path of being framework agnostic, exposing a simple enough API to integrate with any framework and version easily, ensuring a consistently straightforward implementation for our users.","spans":[{"start":0,"end":204,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"Our design goal was for the API to be DOM based: you give us a tag on the page and a payment ID and we’ll take care of everything else. Our implementors shouldn’t have to care about order of precedence, loading, or asynchronicity unless they choose to. Web Components ended up adding huge value here, saving us a considerable amount of work building on page APIs (which we built ourselves in our first non Web Component version).","spans":[{"start":0,"end":429,"type":"strong"},{"start":284,"end":288,"type":"em"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"Web Components also gave us a lot of ‘defensiveness’ for free. We want to provide a reliable service to our customers, and sometimes that involves us protecting them from themselves; Web Component’s encapsulation gives us a lot of that protection out of the box.","spans":[{"start":0,"end":262,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"heading3","text":"Version 1: Vanilla JavaScript and fighting the battle for encapsulation.","spans":[{"start":0,"end":72,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"The vision was simple: include a JavaScript snippet and give a DOM node a magic ID. Voila, you have your bank selection screen.","spans":[{"start":0,"end":127,"type":"strong"}]}]},"items":[{}],"id":"text$402ab86d-14b1-43b5-9700-2cf0ccdecd7b","slice_type":"text","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"Our initial API design for Banked.js","spans":[{"start":0,"end":36,"type":"em"}]}],"embed_url":{"gist":"Joe8Bit/312bd33d1db7cf484c69652b4e6e903f","embed_url":"https://gist.github.com/Joe8Bit/312bd33d1db7cf484c69652b4e6e903f","type":"rich","version":"1.0","title":"Initial banked.js version","author_name":null,"author_url":null,"provider_name":"GitHub","provider_url":"https://gist.github.com","cache_age":null,"thumbnail_url":"https://gist.github.com/fluidicon.png","thumbnail_width":null,"thumbnail_height":null,"html":"\u003cscript src=\"https://gist.github.com/Joe8Bit/312bd33d1db7cf484c69652b4e6e903f.js\"\u003e\u003c/script\u003e"}},"items":[{}],"id":"embed$52ace15f-9ddc-490b-934b-93f62de344ce","slice_type":"embed","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"We thought this was simple, clean, easy to understand, and could be integrated easily into most tools and frameworks. You could then attach a DOM event listener to capture the custom event emitted by the component:","spans":[{"start":0,"end":214,"type":"strong"}]}]},"items":[{}],"id":"text$effb06a4-d135-44d0-aee2-8f99772c05d9","slice_type":"text","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"Getting the authorisation URL with JavaScript from out initial design","spans":[{"start":0,"end":69,"type":"em"}]}],"embed_url":{"gist":"Joe8Bit/bd73ae6e08cd4dd3a2dba5e8903bc62d","embed_url":"https://gist.github.com/Joe8Bit/bd73ae6e08cd4dd3a2dba5e8903bc62d","type":"rich","version":"1.0","title":"Source auth URL","author_name":null,"author_url":null,"provider_name":"GitHub","provider_url":"https://gist.github.com","cache_age":null,"thumbnail_url":"https://gist.github.com/fluidicon.png","thumbnail_width":null,"thumbnail_height":null,"html":"\u003cscript src=\"https://gist.github.com/Joe8Bit/bd73ae6e08cd4dd3a2dba5e8903bc62d.js\"\u003e\u003c/script\u003e"}},"items":[{}],"id":"embed$55542f3b-5bbc-43ff-9552-ba0453822e4e","slice_type":"embed","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"We would handle all the mounting, API requests, and asynchronicity internally. Leaving very little work for the implementor.","spans":[{"start":0,"end":124,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"It worked, but it felt brittle.","spans":[{"start":0,"end":31,"type":"strong"},{"start":23,"end":30,"type":"em"}]},{"type":"paragraph","text":"","spans":[]},{"type":"list-item","text":"Magic ID’s felt easily broken (named access on the window object could have some unintended side effects, for example) and could be confusing to implement (did it have to be on a div element? Why not an article?)","spans":[{"start":0,"end":212,"type":"strong"},{"start":31,"end":64,"type":"hyperlink","data":{"link_type":"Web","url":"https://html.spec.whatwg.org/multipage/window-object.html#named-access-on-the-window-object","target":"_blank"}}]},{"type":"list-item","text":"We had to write a lot of code to handle the order of precedence and rendering (e.g. what happens if the data-payment-id isn’t set until after the page has rendered?)","spans":[{"start":0,"end":165,"type":"strong"},{"start":18,"end":21,"type":"em"},{"start":136,"end":141,"type":"em"}]},{"type":"list-item","text":"Even if we namespaced all our CSS, any change to global elements (like form fields, links, buttons) would have serious consequences for our layout. Writing overly specific CSS targeting, littering our code with !importantor inlining our CSS was hard to maintain and would lead to weird edge case performance and rendering issues.","spans":[{"start":0,"end":329,"type":"strong"}]},{"type":"list-item","text":"We had to write a disconcerting amount of JavaScript, and it all needed to run in the same event loop as the encapsulating page. It proved hard to do this defensively and in a way that we were confident wouldn’t impact page performance.\n","spans":[{"start":0,"end":236,"type":"strong"}]},{"type":"paragraph","text":"We also hadn’t planned to deal with user sourced events being needed to not break the bank’s redirect, but when we gave this version to the rest of the engineering team to play with, they quickly implemented this:","spans":[{"start":0,"end":213,"type":"strong"}]}]},"items":[{}],"id":"text$23ca79aa-423f-4421-8da0-11b2fbc0a360","slice_type":"text","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"Pure JavaScript redirects break in mobile safari, you need a user sourced event!","spans":[{"start":0,"end":80,"type":"em"}]}],"embed_url":{"gist":"Joe8Bit/f73de03535739dc7356fee307d521e5c","embed_url":"https://gist.github.com/Joe8Bit/f73de03535739dc7356fee307d521e5c","type":"rich","version":"1.0","title":"Bad implementation","author_name":null,"author_url":null,"provider_name":"GitHub","provider_url":"https://gist.github.com","cache_age":null,"thumbnail_url":"https://gist.github.com/fluidicon.png","thumbnail_width":null,"thumbnail_height":null,"html":"\u003cscript src=\"https://gist.github.com/Joe8Bit/f73de03535739dc7356fee307d521e5c.js\"\u003e\u003c/script\u003e"}},"items":[{}],"id":"embed$5b6e49d1-0ca1-4026-9a81-3ca22eeaa6cf","slice_type":"embed","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"Which didn’t work in the hard to diagnose and understand way described above. We realised this would be common for our external implementors too.","spans":[{"start":0,"end":145,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"heading3","text":"Version 2: Web Components and, “Pfft, we don’t need none of that tooling”.","spans":[{"start":0,"end":74,"type":"strong"}]},{"type":"paragraph","text":"One of our engineers had a brainwave when thinking about the issues we’d run into, ‘Web Components!’.","spans":[{"start":0,"end":101,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"Web Components are now a mature and well supported set of web APIs. They seemed to be perfectly designed for our use case and the challenges we were running into (particularly the Shadow DOM). We quickly built a new version, using the raw APIs, and it looked great:","spans":[{"start":0,"end":265,"type":"strong"},{"start":36,"end":50,"type":"hyperlink","data":{"link_type":"Web","url":"https://caniuse.com/#search=components","target":"_blank"}},{"start":176,"end":190,"type":"hyperlink","data":{"link_type":"Web","url":"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM","target":"_blank"}}]}]},"items":[{}],"id":"text$034883d3-e4d7-4b65-8ee4-9cc497b3b4d1","slice_type":"text","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"The new Web Components based API for Banked.js","spans":[{"start":0,"end":46,"type":"em"}]}],"embed_url":{"gist":"Joe8Bit/f2f6c4e9c855e69db7001851bc439feb","embed_url":"https://gist.github.com/Joe8Bit/f2f6c4e9c855e69db7001851bc439feb","type":"rich","version":"1.0","title":"Web components!","author_name":null,"author_url":null,"provider_name":"GitHub","provider_url":"https://gist.github.com","cache_age":null,"thumbnail_url":"https://gist.github.com/fluidicon.png","thumbnail_width":null,"thumbnail_height":null,"html":"\u003cscript src=\"https://gist.github.com/Joe8Bit/f2f6c4e9c855e69db7001851bc439feb.js\"\u003e\u003c/script\u003e"}},"items":[{}],"id":"embed$5b64f533-4307-41e2-a88c-104d63f7008f","slice_type":"embed","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"(Notice we also added a second component, the button).","spans":[{"start":0,"end":54,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"It provided most of the encapsulation we were after, handled the mounting and initialising of our component, and we had to write zero lines of code to do it. It also provided a much clearer, more semantic API for implementors to understand: no more magic strings and ambiguous DOM nodes. It even provided nice ways of handling event emission and nicely integrated as a part of a form element out of the box.","spans":[{"start":0,"end":407,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"Results from our engineering team were positive, there were far fewer gotchas and heffalump traps when they created toy implementations. Most of them got it working in minutes!","spans":[{"start":0,"end":176,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"A new challenge emerged. We’d built a successful thing, but the tooling necessary to make us happy with its integrity, quality, and safety eluded us. Tooling for JavaScript projects is not something you usually lack, so we were interested to find so few options for testing, linting, and building Web Components.","spans":[{"start":0,"end":312,"type":"strong"},{"start":49,"end":55,"type":"em"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"Before we had started on V2, we looked at Polymer and were pretty confused about its current status (parts of it are deprecated but are still used? Other projects under its banner appear to do similar things to the original Polymer library but not all of them?). It didn’t inspire confidence, and we discarded it in favour of quickly getting something up and running.","spans":[{"start":0,"end":367,"type":"strong"},{"start":42,"end":49,"type":"hyperlink","data":{"link_type":"Web","url":"https://www.polymer-project.org/","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"This bears true for most of the Web Components ecosystem: it’s confusing, buggy, and riddled with out-of-date docs and confusingly deprecated tools.","spans":[{"start":0,"end":148,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"A particularly annoying issue was the lack of support (or bugginess) of Web Components implementations in popular testing tools; the web component community's default fall back is saying, ‘You need to use a full browser run-time,’ (like Karma). Full support for non-browser headless/JS runtimes would have made this process, and our CI infrastructure, much simpler.","spans":[{"start":0,"end":365,"type":"strong"},{"start":237,"end":242,"type":"hyperlink","data":{"link_type":"Web","url":"https://karma-runner.github.io/latest/index.html","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"heading3","text":"Version 3: Web Components and, “Turns out we do need that tooling”.","spans":[{"start":0,"end":67,"type":"strong"}]},{"type":"paragraph","text":"During our search through the dark and murky corners of the Web Components community we came across Open-WC: a laudable and successful effort to combine various tools and frameworks into a usable, opinionated, and reliable toolchain for building web components.","spans":[{"start":0,"end":261,"type":"strong"},{"start":100,"end":107,"type":"hyperlink","data":{"link_type":"Web","url":"https://open-wc.org/","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"It provides:","spans":[{"start":0,"end":12,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"list-item","text":"Working (and sensible) linters (ESLint and Stylist) configured for working with Web Components","spans":[{"start":0,"end":94,"type":"strong"}]},{"type":"list-item","text":"A framework and tooling for development, which was otherwise difficult and fragile to maintain","spans":[{"start":0,"end":94,"type":"strong"}]},{"type":"list-item","text":"A suite of tools for testing (unit, integration and accessibility)","spans":[{"start":0,"end":66,"type":"strong"}]},{"type":"list-item","text":"Build tooling (for our choice of tool WebPack, but also Rollup)","spans":[{"start":0,"end":63,"type":"strong"}]},{"type":"list-item","text":"Deployment and demo tooling (through a pretty sweet Storybook integration)\n","spans":[{"start":0,"end":74,"type":"strong"},{"start":52,"end":61,"type":"hyperlink","data":{"link_type":"Web","url":"https://storybook.js.org/","target":"_blank"}}]},{"type":"paragraph","text":"We quickly moved Banked.js to use Open WC and haven’t looked back. It’s meant we could delete a huge amount of home-brewed tooling and the tradeoffs have been worth it.","spans":[{"start":0,"end":168,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"It imposes a small bundle size penalty (mainly through its use of LitElement) but it was a small price worth paying for the development ergonomics and maintenance benefits. We’ve also changed its default build, and don’t use the \u003cscript\u003e based ES modules it comes configured with.","spans":[{"start":0,"end":280,"type":"strong"},{"start":13,"end":18,"type":"em"},{"start":66,"end":76,"type":"hyperlink","data":{"link_type":"Web","url":"https://lit-element.polymer-project.org/","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"So now we’re left with a useful, safe, and reliable component any of our customers can use to embed account-to-account payments into their web app:","spans":[{"start":0,"end":147,"type":"strong"}]}]},"items":[{}],"id":"text$1499bca4-581d-4ff3-a50f-c3f274794c69","slice_type":"text","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"Our final API for Banked.js","spans":[{"start":0,"end":27,"type":"em"}]}],"embed_url":{"gist":"Joe8Bit/f2f6c4e9c855e69db7001851bc439feb","embed_url":"https://gist.github.com/Joe8Bit/f2f6c4e9c855e69db7001851bc439feb","type":"rich","version":"1.0","title":"Web components!","author_name":null,"author_url":null,"provider_name":"GitHub","provider_url":"https://gist.github.com","cache_age":null,"thumbnail_url":"https://gist.github.com/fluidicon.png","thumbnail_width":null,"thumbnail_height":null,"html":"\u003cscript src=\"https://gist.github.com/Joe8Bit/f2f6c4e9c855e69db7001851bc439feb.js\"\u003e\u003c/script\u003e"}},"items":[{}],"id":"embed$0b793090-5aa1-4ae9-aa63-2e59452d89f9","slice_type":"embed","slice_label":null},{"primary":{"text":[{"type":"heading3","text":"Serving Banked.js","spans":[{"start":0,"end":17,"type":"strong"}]},{"type":"paragraph","text":"After we build Banked.js via Github Actions, we deploy it to Cloudflare’s KV Store and serve it to end users via a Worker. CloudFlare workers are serverless functions that are distributed and run in Cloudflare’s 200+ POPs.","spans":[{"start":0,"end":222,"type":"strong"},{"start":74,"end":82,"type":"hyperlink","data":{"link_type":"Web","url":"https://www.cloudflare.com/products/workers-kv/","target":"_blank"}},{"start":113,"end":121,"type":"hyperlink","data":{"link_type":"Web","url":"https://workers.cloudflare.com/","target":"_blank"}},{"start":212,"end":221,"type":"hyperlink","data":{"link_type":"Web","url":"https://www.cloudflare.com/network/","target":"_blank"}}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"We use workers (rather than Cloudflare’s pull based CDN) because it enables us to do a few different things that just aren’t possible (or if possible, not easy) with traditional CDNs, namely:","spans":[{"start":0,"end":191,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"list-item","text":"We can serve a debug build if the request comes from a specified domain or with a certain cookie set.","spans":[{"start":0,"end":101,"type":"strong"}]},{"type":"list-item","text":"We can serve different versions to different user agents if we want to dynamically include polyfills.","spans":[{"start":0,"end":101,"type":"strong"}]},{"type":"list-item","text":"We can multivariate test new versions of the script without implementors needing to update their config.\n","spans":[{"start":0,"end":104,"type":"strong"}]},{"type":"paragraph","text":"The example below is a worker function that serves a debug build if a cookie is present on the request (getting the JS from the KV store is omitted for brevity):","spans":[{"start":0,"end":161,"type":"strong"}]}]},"items":[{}],"id":"text$91438e50-b7b1-4c90-8641-a0f2eaf5468a","slice_type":"text","slice_label":null},{"primary":{"text":[{"type":"paragraph","text":"Cloudflare worker to serve a debug build of Banked.js","spans":[{"start":0,"end":53,"type":"em"}]}],"embed_url":{"gist":"Joe8Bit/4bc1c66a07b0c44f1cca24bbabcf8ad7","embed_url":"https://gist.github.com/Joe8Bit/4bc1c66a07b0c44f1cca24bbabcf8ad7","type":"rich","version":"1.0","title":"Cloudflare worker","author_name":null,"author_url":null,"provider_name":"GitHub","provider_url":"https://gist.github.com","cache_age":null,"thumbnail_url":"https://gist.github.com/fluidicon.png","thumbnail_width":null,"thumbnail_height":null,"html":"\u003cscript src=\"https://gist.github.com/Joe8Bit/4bc1c66a07b0c44f1cca24bbabcf8ad7.js\"\u003e\u003c/script\u003e"}},"items":[{}],"id":"embed$73a8e4ea-738a-4666-bbfd-da7aa5fca88d","slice_type":"embed","slice_label":null},{"primary":{"text":[{"type":"heading3","text":"The future of embedded checkout at Banked.","spans":[{"start":0,"end":42,"type":"strong"}]},{"type":"paragraph","text":"We’ve ended up very happy with Banked.js: it provides our customers with a valuable, lightweight way of taking account-to-account payments and is easy and safe for us to iterate on and improve. Our aim is to open source Banked.js in the next few weeks.","spans":[{"start":0,"end":252,"type":"strong"}]},{"type":"paragraph","text":"","spans":[]},{"type":"paragraph","text":"We’re also looking at how we can bring the same easy, safe integration experience to our customers’ native applications. Watch this space!","spans":[{"start":0,"end":138,"type":"strong"}]}]},"items":[{}],"id":"text$b1c425da-36ce-4c7a-9b6a-c1e4f8374fc2","slice_type":"text","slice_label":null}]}},"site":{"id":"YTigQBAAACQAaENo","uid":null,"url":null,"type":"site","href":"https://banked.cdn.prismic.io/api/v2/documents/search?ref=ZytR0hYAADAAMUe6\u0026q=%5B%5B%3Ad+%3D+at%28document.id%2C+%22YTigQBAAACQAaENo%22%29+%5D%5D","tags":[],"first_publication_date":"2021-09-08T11:36:35+0000","last_publication_date":"2024-07-24T08:33:42+0000","slugs":["site"],"linked_documents":[],"lang":"en-gb","alternate_languages":[],"data":{"links":[{"link":{"id":"YPhIIBAAACIA2Anu","type":"page","tags":[],"lang":"en-gb","slug":"banked--real-time-payments-for-consumers-businesses-and-banks.","first_publication_date":"2021-07-21T16:15:30+0000","last_publication_date":"2023-11-14T10:26:05+0000","uid":"product","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}},"text":"Product"},{"link":{"id":"ZXoF_xIAACwAvQwL","type":"page","tags":["Use Cases"],"lang":"en-gb","slug":"banked--real-time-payments-for-consumers-businesses-and-banks.","first_publication_date":"2023-12-14T10:07:51+0000","last_publication_date":"2023-12-15T14:28:11+0000","uid":"use-cases","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}},"text":"Use Cases"},{"link":{"id":"YUm-8REAACMAsEiw","type":"page","tags":[],"lang":"en-gb","slug":"banked--real-time-payments-for-consumers-businesses-and-banks.","first_publication_date":"2021-09-21T11:17:41+0000","last_publication_date":"2023-12-15T14:23:59+0000","uid":"partners","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}},"text":"Partners"},{"link":{"id":"YUn5XREAACIAsU1B","type":"page","tags":[],"lang":"en-gb","slug":"banked--real-time-payments-for-consumers-businesses-and-banks.","first_publication_date":"2021-09-21T15:25:21+0000","last_publication_date":"2023-11-14T10:07:22+0000","uid":"consumer","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}},"text":"Consumer"},{"link":{"id":"YTijZBAAACIAaFG5","type":"articles","tags":[],"lang":"en-gb","slug":"articles","first_publication_date":"2021-09-08T11:49:58+0000","last_publication_date":"2021-10-15T15:24:45+0000","link_type":"Document","isBroken":false},"text":"Articles"}],"actions":[{"action_link":{"link_type":"Web","url":"https://console.banked.com/"},"action_text":"Log In"}],"prepend":"News","text1":"NAB and Plenti switch on PayTo for personal loan customers","action_text":"Read","action_link":{"id":"ZqC4LRMAAC4ArD_c","type":"article","tags":["pay by bank","press release","partnership","nab","APAC"],"lang":"en-gb","slug":"nab-and-plenti-switch-on-payto-solution-powered-by-banked-for-personal-loan-customers","first_publication_date":"2024-07-24T08:21:07+0000","last_publication_date":"2024-07-24T08:44:32+0000","uid":"nab-and-plenti-switch-on-payto","link_type":"Document","isBroken":false},"columns":[{"heading":"Company","text":[{"type":"paragraph","text":"About","spans":[{"start":0,"end":5,"type":"hyperlink","data":{"id":"YUpHXBEAACMAsqaB","type":"page","tags":[],"lang":"en-gb","slug":"banked--real-time-payments-for-consumers-businesses-and-banks.","first_publication_date":"2021-09-21T20:58:33+0000","last_publication_date":"2024-11-05T14:12:33+0000","uid":"about","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}}}]},{"type":"paragraph","text":"FAQs","spans":[{"start":0,"end":4,"type":"hyperlink","data":{"id":"YUmoJBEAACMAr-Eo","type":"page","tags":[],"lang":"en-gb","slug":"banked--real-time-payments-for-consumers-businesses-and-banks.","first_publication_date":"2021-09-21T09:38:50+0000","last_publication_date":"2024-07-24T08:35:51+0000","uid":"faqs","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}}}]},{"type":"paragraph","text":"Press","spans":[{"start":0,"end":5,"type":"hyperlink","data":{"id":"YgTwixIAAC8AOW74","type":"page","tags":[],"lang":"en-gb","slug":"banked--press-materials","first_publication_date":"2022-02-10T11:01:34+0000","last_publication_date":"2022-02-14T14:33:27+0000","uid":"press","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}}}]},{"type":"paragraph","text":"Contact Sales","spans":[{"start":0,"end":13,"type":"hyperlink","data":{"id":"YUn_2hEAACEAsWva","type":"page","tags":[],"lang":"en-gb","slug":"banked--real-time-payments-for-consumers-businesses-and-banks.","first_publication_date":"2021-09-21T15:53:03+0000","last_publication_date":"2023-08-08T08:57:48+0000","uid":"contact","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}}}]},{"type":"paragraph","text":"Careers","spans":[{"start":0,"end":7,"type":"hyperlink","data":{"id":"Y0a7zxEAAC4A74Vg","type":"page","tags":[],"lang":"en-gb","slug":"careers-at-banked-","first_publication_date":"2022-10-12T13:10:03+0000","last_publication_date":"2024-11-06T11:24:02+0000","uid":"careers","link_type":"Document","isBroken":false,"extras":{"ancestors":[]}}}]}]},{"heading":"Platform","text":[{"type":"paragraph","text":"Developers","spans":[{"start":0,"end":10,"type":"hyperlink","data":{"link_type":"Web","url":"https://developer.banked.com/"}}]},{"type":"paragraph","text":"Log In","spans":[{"start":0,"end":6,"type":"hyperlink","data":{"link_type":"Web","url":"https://console.banked.com/"}}]},{"type":"paragraph","text":"Status","spans":[{"start":0,"end":6,"type":"hyperlink","data":{"link_type":"Web","url":"https://status.banked.com/"}}]},{"type":"paragraph","text":"Support","spans":[{"start":0,"end":7,"type":"hyperlink","data":{"link_type":"Web","url":"https://support.paybybank.com"}}]}]},{"heading":"Community","text":[{"type":"paragraph","text":"Articles","spans":[{"start":0,"end":8,"type":"hyperlink","data":{"id":"YTijZBAAACIAaFG5","type":"articles","tags":[],"lang":"en-gb","slug":"articles","first_publication_date":"2021-09-08T11:49:58+0000","last_publication_date":"2021-10-15T15:24:45+0000","link_type":"Document","isBroken":false}}]},{"type":"paragraph","text":"LinkedIn","spans":[{"start":0,"end":8,"type":"hyperlink","data":{"link_type":"Web","url":"https://www.linkedin.com/company/banked-limited/"}}]},{"type":"paragraph","text":"Twitter","spans":[{"start":0,"end":7,"type":"hyperlink","data":{"link_type":"Web","url":"https://twitter.com/wearebanked"}}]},{"type":"paragraph","text":"Medium","spans":[{"start":0,"end":6,"type":"hyperlink","data":{"link_type":"Web","url":"https://medium.com/@banked"}}]}]},{"heading":"Legal","text":[{"type":"paragraph","text":"Privacy Policy","spans":[{"start":0,"end":14,"type":"hyperlink","data":{"link_type":"Web","url":"https://banked.com/privacy"}}]},{"type":"paragraph","text":"Terms + Conditions","spans":[{"start":0,"end":18,"type":"hyperlink","data":{"id":"YPhUnhAAACAA2D62","type":"legal","tags":[],"lang":"en-gb","slug":"pay-by-bank-payment-initiation-services-agreement.","first_publication_date":"2021-07-21T17:08:48+0000","last_publication_date":"2023-11-09T12:01:37+0000","uid":"pay-by-bank","link_type":"Document","isBroken":false}}]}]}],"footnote":[{"type":"paragraph","text":"Banked Ltd is authorised and regulated by the UK Financial Conduct Authority\n151 Wardour St, Unit 5.01, London, W1F 8WE, UK\nCompany number 11047186   :   Firm Reference Number 816944   :   +44 (0) 20 8090 2747","spans":[{"start":0,"end":209,"type":"label","data":{"label":"tag"}}]}],"text":[{"type":"paragraph","text":"We and selected partners use cookies and similar technologies as specified in the cookie policy.","spans":[{"start":0,"end":96,"type":"label","data":{"label":"p6"}},{"start":82,"end":95,"type":"hyperlink","data":{"link_type":"Web","url":"https://banked.com/cookies"}}]}],"accept":"OK","reject":"Decline","article_tags_heading":"Browse stories and categories."}}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"shipping-web-components-in-2020"},"buildId":"B6TOBLeoGjSCzcHnEdbrK","isFallback":false,"dynamicIds":[4803,3766,1549,8095,9943],"gsp":true,"scriptLoader":[]}</script></body></html>