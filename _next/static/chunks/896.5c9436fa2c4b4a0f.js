"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[896],{1896:function(e,i,r){r.r(i),r.d(i,{default:function(){return DeviceVideo}});var t=r(5893),n=r(8527);function DeviceFrame(e){let{ratio:i,children:r,...o}=e;return(0,t.jsx)(n.xu,{borderRadius:"15.902% / 7.75%",bg:"white-100",p:"1.529%",boxShadow:"0 0 37px rgba(0, 0, 0, 0.05)",...o,children:(0,t.jsx)(n.xu,{borderRadius:"14.826% / 7.11%",p:"3.583%",bg:"light-grey-10",children:(0,t.jsx)(n.xu,{borderRadius:"12.881% / 5.947%",children:(0,t.jsx)(n.oM,{ratio:i,sx:{">*":{borderRadius:"12.881% / 5.947%",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:r})})})})}var o=r(4216),s=r(3541),l=r(8529),a=r(7806),d=r(7412),c=r(5728),u=r(7294);function _extends(){return(_extends=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function _setPrototypeOf(e,i){return(_setPrototypeOf=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e})(e,i)}var h=new Map,p=new WeakMap,f=0,v=void 0;function observe(e,i,r,t){if(void 0===r&&(r={}),void 0===t&&(t=v),void 0===window.IntersectionObserver&&void 0!==t){var n=e.getBoundingClientRect();return i(t,{isIntersecting:t,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),function(){}}var o=function(e){var i=Object.keys(e).sort().filter(function(i){return void 0!==e[i]}).map(function(i){var r;return i+"_"+("root"===i?(r=e.root)?(p.has(r)||(f+=1,p.set(r,f.toString())),p.get(r)):"0":e[i])}).toString(),r=h.get(i);if(!r){var t,n=new Map,o=new IntersectionObserver(function(i){i.forEach(function(i){var r,o=i.isIntersecting&&t.some(function(e){return i.intersectionRatio>=e});e.trackVisibility&&void 0===i.isVisible&&(i.isVisible=o),null==(r=n.get(i.target))||r.forEach(function(e){e(o,i)})})},e);t=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:i,observer:o,elements:n},h.set(i,r)}return r}(r),s=o.id,l=o.observer,a=o.elements,d=a.get(e)||[];return a.has(e)||a.set(e,d),d.push(i),l.observe(e),function(){d.splice(d.indexOf(i),1),0===d.length&&(a.delete(e),l.unobserve(e)),0===a.size&&(l.disconnect(),h.delete(s))}}var b=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function isPlainChildren(e){return"function"!=typeof e.children}var g=function(e){function InView(i){var r;return(r=e.call(this,i)||this).node=null,r._unobserveCb=null,r.handleNode=function(e){!r.node||(r.unobserve(),e||r.props.triggerOnce||r.props.skip||r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=e||null,r.observeNode()},r.handleChange=function(e,i){e&&r.props.triggerOnce&&r.unobserve(),isPlainChildren(r.props)||r.setState({inView:e,entry:i}),r.props.onChange&&r.props.onChange(e,i)},r.state={inView:!!i.initialInView,entry:void 0},r}InView.prototype=Object.create(e.prototype),InView.prototype.constructor=InView,_setPrototypeOf(InView,e);var i=InView.prototype;return i.componentDidUpdate=function(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},i.componentWillUnmount=function(){this.unobserve(),this.node=null},i.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,i=e.threshold,r=e.root,t=e.rootMargin,n=e.trackVisibility,o=e.delay,s=e.fallbackInView;this._unobserveCb=observe(this.node,this.handleChange,{threshold:i,root:r,rootMargin:t,trackVisibility:n,delay:o},s)}},i.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},i.render=function(){if(!isPlainChildren(this.props)){var e=this.state,i=e.inView,r=e.entry;return this.props.children({inView:i,entry:r,ref:this.handleNode})}var t=this.props,n=t.children,o=t.as,s=function(e,i){if(null==e)return{};var r,t,n={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],i.indexOf(r)>=0||(n[r]=e[r]);return n}(t,b);return u.createElement(o||"div",_extends({ref:this.handleNode},s),n)},InView}(u.Component);function DeviceVideo(e){var i,r,h,p,f,v,b,g,y,w,V,x,k,j,m,C,I;let{slice:O}=e,[_,P]=(h=(r=void 0===i?{}:i).threshold,p=r.delay,f=r.trackVisibility,v=r.rootMargin,b=r.root,g=r.triggerOnce,y=r.skip,w=r.initialInView,V=r.fallbackInView,x=u.useRef(),j=(k=u.useState({inView:!!w}))[0],m=k[1],C=u.useCallback(function(e){void 0!==x.current&&(x.current(),x.current=void 0),!y&&e&&(x.current=observe(e,function(e,i){m({inView:e,entry:i}),i.isIntersecting&&g&&x.current&&(x.current(),x.current=void 0)},{root:b,rootMargin:v,threshold:h,trackVisibility:f,delay:p},V))},[Array.isArray(h)?h.toString():h,b,v,g,y,f,V,p]),(0,u.useEffect)(function(){x.current||!j.entry||g||y||m({inView:!!w})}),(I=[C,j.inView,j.entry]).ref=I[0],I.inView=I[1],I.entry=I[2],I),{primary:R}=O,{heading:M,text:N,vimeo_video_id:A,supplement:D}=R,S=(0,d.BD)(N),E=(0,d.BD)(D);return A?(0,t.jsx)(n.W2,{ref:_,size:"inner",children:(0,t.jsxs)(o.Z,{gridAutoColumns:"1fr",children:[(0,t.jsxs)(n.P4,{gridColumn:{lg:1},gridRow:{lg:2},textAlign:{base:"center",lg:"right"},children:[M&&(0,t.jsx)(s.Z,{size:"h5",variant:"emphasised",children:M}),S&&(0,t.jsx)(s.Z,{as:"div",size:"h5",children:(0,t.jsx)(l.Z,{text:N,underlineLinks:!0})})]}),(0,t.jsx)(n.P4,{gridColumn:{lg:2},gridRow:{base:2,lg:"span 7"},children:(0,t.jsx)(n.xu,{maxW:(0,c.Q1)(360),mx:"auto",children:(0,t.jsx)(DeviceFrame,{ratio:440/950,children:P?(0,t.jsx)("video",{muted:!0,autoPlay:!0,loop:!0,playsInline:!0,children:(0,t.jsx)("source",{src:"/videos/banked-device-demo.mp4"})}):(0,t.jsx)("div",{})})})}),(0,t.jsx)(n.P4,{gridColumn:{lg:3},gridRow:{lg:4},textAlign:{base:"center",lg:"left"},children:E&&(0,t.jsx)(a.Z,{as:"div",children:(0,t.jsx)(l.Z,{text:D,underlineLinks:!0})})})]})}):null}g.displayName="InView",g.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}}}]);